/*
Kardinal ARO API

This document specifies the REST API of Kardinal ARO v2.

API version: 2.45.0
Contact: contact@kardinal.ai
*/

// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

package openapi

import (
	"encoding/json"
	"fmt"
)

// TourWayPointsInner - struct for TourWayPointsInner
type TourWayPointsInner struct {
	WayPointBegin *WayPointBegin
	WayPointBreak *WayPointBreak
	WayPointEnd   *WayPointEnd
	WayPointStop  *WayPointStop
}

// WayPointBeginAsTourWayPointsInner is a convenience function that returns WayPointBegin wrapped in TourWayPointsInner
func WayPointBeginAsTourWayPointsInner(v *WayPointBegin) TourWayPointsInner {
	return TourWayPointsInner{
		WayPointBegin: v,
	}
}

// WayPointBreakAsTourWayPointsInner is a convenience function that returns WayPointBreak wrapped in TourWayPointsInner
func WayPointBreakAsTourWayPointsInner(v *WayPointBreak) TourWayPointsInner {
	return TourWayPointsInner{
		WayPointBreak: v,
	}
}

// WayPointEndAsTourWayPointsInner is a convenience function that returns WayPointEnd wrapped in TourWayPointsInner
func WayPointEndAsTourWayPointsInner(v *WayPointEnd) TourWayPointsInner {
	return TourWayPointsInner{
		WayPointEnd: v,
	}
}

// WayPointStopAsTourWayPointsInner is a convenience function that returns WayPointStop wrapped in TourWayPointsInner
func WayPointStopAsTourWayPointsInner(v *WayPointStop) TourWayPointsInner {
	return TourWayPointsInner{
		WayPointStop: v,
	}
}

// Unmarshal JSON data into one of the pointers in the struct
func (dst *TourWayPointsInner) UnmarshalJSON(data []byte) error {
	// 1. Define a helper struct to extract the 'type' discriminator field
	var discriminator struct {
		Type string `json:"type"`
	}

	// 2. Read only the 'type' field from the JSON data
	if err := json.Unmarshal(data, &discriminator); err != nil {
		return fmt.Errorf("failed to read discriminator 'type' field for waypoint: %w", err)
	}

	// 3. Use the discriminator value to select the correct concrete type
	switch discriminator.Type {
	case "begin":
		dst.WayPointBegin = &WayPointBegin{}
		if err := newStrictDecoder(data).Decode(dst.WayPointBegin); err != nil {
			return fmt.Errorf("failed to unmarshal as WayPointBegin: %w", err)
		}
		// Optional: Re-run validation if necessary
		// if err := validator.Validate(dst.WayPointBegin); err != nil {
		//     return fmt.Errorf("validation failed for WayPointBegin: %w", err)
		// }
		return nil

	case "break":
		dst.WayPointBreak = &WayPointBreak{}
		if err := newStrictDecoder(data).Decode(dst.WayPointBreak); err != nil {
			return fmt.Errorf("failed to unmarshal as WayPointBreak: %w", err)
		}
		return nil

	case "end":
		dst.WayPointEnd = &WayPointEnd{}
		if err := newStrictDecoder(data).Decode(dst.WayPointEnd); err != nil {
			return fmt.Errorf("failed to unmarshal as WayPointEnd: %w", err)
		}
		return nil

	case "stop":
		dst.WayPointStop = &WayPointStop{}
		if err := newStrictDecoder(data).Decode(dst.WayPointStop); err != nil {
			return fmt.Errorf("failed to unmarshal as WayPointStop: %w", err)
		}
		return nil

	default:
		// Handle unknown or missing type
		return fmt.Errorf("data failed to match schemas in oneOf(TourWayPointsInner): unknown type '%s'", discriminator.Type)
	}
}

// Marshal data from the first non-nil pointers in the struct to JSON
func (src TourWayPointsInner) MarshalJSON() ([]byte, error) {
	if src.WayPointBegin != nil {
		return json.Marshal(&src.WayPointBegin)
	}

	if src.WayPointBreak != nil {
		return json.Marshal(&src.WayPointBreak)
	}

	if src.WayPointEnd != nil {
		return json.Marshal(&src.WayPointEnd)
	}

	if src.WayPointStop != nil {
		return json.Marshal(&src.WayPointStop)
	}

	return nil, nil // no data in oneOf schemas
}

// Get the actual instance
func (obj *TourWayPointsInner) GetActualInstance() interface{} {
	if obj == nil {
		return nil
	}
	if obj.WayPointBegin != nil {
		return obj.WayPointBegin
	}

	if obj.WayPointBreak != nil {
		return obj.WayPointBreak
	}

	if obj.WayPointEnd != nil {
		return obj.WayPointEnd
	}

	if obj.WayPointStop != nil {
		return obj.WayPointStop
	}

	// all schemas are nil
	return nil
}

// Get the actual instance value
func (obj TourWayPointsInner) GetActualInstanceValue() interface{} {
	if obj.WayPointBegin != nil {
		return *obj.WayPointBegin
	}

	if obj.WayPointBreak != nil {
		return *obj.WayPointBreak
	}

	if obj.WayPointEnd != nil {
		return *obj.WayPointEnd
	}

	if obj.WayPointStop != nil {
		return *obj.WayPointStop
	}

	// all schemas are nil
	return nil
}

type NullableTourWayPointsInner struct {
	value *TourWayPointsInner
	isSet bool
}

func (v NullableTourWayPointsInner) Get() *TourWayPointsInner {
	return v.value
}

func (v *NullableTourWayPointsInner) Set(val *TourWayPointsInner) {
	v.value = val
	v.isSet = true
}

func (v NullableTourWayPointsInner) IsSet() bool {
	return v.isSet
}

func (v *NullableTourWayPointsInner) Unset() {
	v.value = nil
	v.isSet = false
}

func NewNullableTourWayPointsInner(val *TourWayPointsInner) *NullableTourWayPointsInner {
	return &NullableTourWayPointsInner{value: val, isSet: true}
}

func (v NullableTourWayPointsInner) MarshalJSON() ([]byte, error) {
	return json.Marshal(v.value)
}

func (v *NullableTourWayPointsInner) UnmarshalJSON(src []byte) error {
	v.isSet = true
	return json.Unmarshal(src, &v.value)
}
