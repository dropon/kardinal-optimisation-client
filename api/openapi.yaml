openapi: 3.0.3
info:
  contact:
    email: contact@kardinal.ai
    url: https://kardinal.ai/
  description: This document specifies the REST API of Kardinal ARO v2.
  title: Kardinal ARO API
  version: 2.45.0
servers:
- url: /api/v2
security:
- access_token: []
tags:
- description: "How to login, push a plan and then get a solution."
  name: Core
- description: "Refresh an auth token, check the plan status and state(s), and restart/stop\
    \ an optimization."
  name: Management
- description: "How to authenticate, and manage the access and refresh tokens."
  name: Authenticate
- description: How to manage GDPR policy.
  name: GDPR
- description: "How to create, retrieve, update and delete users."
  name: User
- description: How to manage clients and the associated hierarchical data.
  name: Client
- description: How to manage countries.
  name: Country
- description: How to manage regions.
  name: Region
- description: How to manage agencies.
  name: Agency
- description: "How to create, retrieve, update and delete plans."
  name: Plan
- description: "How to create, retrieve, update and delete resources in a plan."
  name: Resource
- description: "How to create, retrieve, update and delete orders in a plan."
  name: Order
- description: How to retrieve solutions and errors related.
  name: Solution
- description: How to obtain time windows for a smart meeting appointment.
  name: Smart Meeting Appointment
- description: "How to create, retrieve, update and delete webhooks."
  name: Webhook
- description: How to create a plan through the use of a simple plan.
  name: SimplePlan
paths:
  /public_key:
    get:
      operationId: getPublicKey
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PublicKeyJWK"
            text/plain:
              schema:
                $ref: "#/components/schemas/PublicKeyPEM"
          description: "The content of the public key, either in JWK or PEM format."
      security: []
      summary: Get the public key which can be used to check the tokens
      tags:
      - Authenticate
  /auth/password/requestToken:
    post:
      operationId: postRequestPasswordToken
      parameters:
      - description: |
          The origin of the request.
          When an email needs to be sent, the "Origin" header value is used (after
          validation) to correctly generate the hyperlinks inside the email body.
        explode: false
        in: header
        name: originHeader
        required: false
        schema:
          format: uri
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UsernameRequest"
      responses:
        "204":
          description: |
            The request has been taken into account.
            If the provided username is a valid email address which corresponds to an active user, a password token will be generated and sent by mail.
            If no active user is found, the error is silently discarded and a 204 code is returned anyway.
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security: []
      summary: Request a password token
      tags:
      - Authenticate
  /auth/password/validateToken:
    post:
      operationId: validatePasswordToken
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TokenRequest"
      responses:
        "204":
          description: The token has been validated.
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security: []
      summary: Check if a password token is valid
      tags:
      - Authenticate
  /auth/password/reset:
    post:
      operationId: resetPassword
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PasswordRequest"
      responses:
        "204":
          description: The password has been reset.
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - password_token: []
      summary: Reset a password for a user
      tags:
      - Authenticate
  /auth/mfa/config:
    get:
      operationId: getActorMFAConfig
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedMFAConfig"
          description: The actor's MFA config.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch the actor's MFA config
      tags:
      - Authenticate
  /auth/mfa/disable:
    post:
      operationId: disableMFAConfig
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/disableMFAConfig_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedMFAConfig"
          description: The updated MFA config.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Disable an OTP type in the actor's MFA config
      tags:
      - Authenticate
  /auth/mfa/request:
    post:
      operationId: requestMFAConfigUpdate
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/disableMFAConfig_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/requestMFAConfigUpdate_200_response"
          description: The OTP token valid for 10 minutes.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Request the update of the actor's MFA config
      tags:
      - Authenticate
  /auth/mfa/resendOTP:
    post:
      operationId: requestNewMFAOTPCode
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/requestNewMFAOTPCode_request"
      responses:
        "204":
          description: The OTP code was resent.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          description: Too many requests.
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - otp_token: []
      summary: Request a new OTP code for the MFA config update validation
      tags:
      - Authenticate
  /auth/mfa/validate:
    post:
      operationId: validateMFAConfigUpdate
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/validateMFAConfigUpdate_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedMFAConfig"
          description: The updated MFA config.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - otp_token: []
      summary: Validate the update of the actor's MFA config
      tags:
      - Authenticate
  /auth/mfa/preferredType:
    put:
      operationId: putMFAConfigPreferredType
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OTPType"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedOTPType"
          description: The actor's MFA config preferred OTP type was set.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Sets the actor's preferred OTP type in his MFA config
      tags:
      - Authenticate
  /auth/mfa/regenerateBackupCodes:
    put:
      operationId: regenerateMFABackupCodes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MFAConfigRegenerateBackupCodes"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedBackupCodes"
          description: The updated MFA config.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Regenerate the actor's backup codes
      tags:
      - Authenticate
  /login/methods:
    get:
      operationId: getLoginMethods
      parameters:
      - description: The username.
        explode: true
        in: query
        name: username
        required: false
        schema:
          $ref: "#/components/schemas/Username"
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAuthenticationMethods"
          description: Authentication methods collection response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security: []
      summary: Retrieve the available login methods for a given username
      tags:
      - Authenticate
  /login:
    post:
      operationId: postLogin
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Login"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/postLogin_200_response"
          description: The login succeeded.
        "400":
          $ref: "#/components/responses/BadRequest"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security: []
      summary: Login (returns an OTP token if MFA is configured for the user)
      tags:
      - Core
      - Authenticate
  /login/otp:
    post:
      operationId: postLoginOTP
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/postLoginOTP_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/postLoginOTP_200_response"
          description: The login succeeded.
        "400":
          $ref: "#/components/responses/BadRequest"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - otp_token: []
      summary: Confirm login with OTP
      tags:
      - Core
      - Authenticate
  /login/resendOTP:
    post:
      operationId: requestNewLoginOTPCode
      responses:
        "204":
          description: The OTP code was resent.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          description: Too many requests.
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - otp_token: []
      summary: Request a new OTP code for login
      tags:
      - Authenticate
  /login/refresh:
    post:
      operationId: postLoginRefresh
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/postLoginRefresh_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/postLoginRefresh_200_response"
          description: The refresh succeeded.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - refresh_token: []
      summary: Refresh the access token
      tags:
      - Management
      - Authenticate
  /login/sso/azure:
    post:
      operationId: postLoginWithAzureSSO
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AzureSSOLogin"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/postLoginOTP_200_response"
          description: The login succeeded.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security: []
      summary: Login with Azure SSO
      tags:
      - Authenticate
  /login/sso/google:
    post:
      operationId: postLoginWithGoogleSSO
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GoogleSSOLogin"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/postLoginOTP_200_response"
          description: The login succeeded.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security: []
      summary: Login with Google SSO
      tags:
      - Authenticate
  /gdpr/approve:
    patch:
      operationId: patchGDPRApprove
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GDPRApproval"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedLoginAccessOutput"
          description: The GDPR approval succeeded and the login process was finalized.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      security:
      - gdpr_token: []
      summary: Approve a GDPR policy
      tags:
      - GDPR
  /users:
    get:
      operationId: getUsers
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedUsers"
          description: Users collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves a collection of users
      tags:
      - User
    post:
      operationId: postUser
      parameters:
      - description: |
          The origin of the request.
          When an email needs to be sent, the "Origin" header value is used (after
          validation) to correctly generate the hyperlinks inside the email body.
        explode: false
        in: header
        name: originHeader
        required: false
        schema:
          format: uri
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/User"
        description: A user entity contains the following informations.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedUser"
          description: The user was created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Creates a single user
      tags:
      - User
  /users/api:
    post:
      operationId: postUserApi
      parameters:
      - description: |
          The origin of the request.
          When an email needs to be sent, the "Origin" header value is used (after
          validation) to correctly generate the hyperlinks inside the email body.
        explode: false
        in: header
        name: originHeader
        required: false
        schema:
          format: uri
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserAPIInput"
        description: |
          An input which allows to create a user with simpleApi or complexApi usage, the associated client, and the client hierarchy.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedUserAPIOutput"
          description: The simpleApi/complexApi user was created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Creates a user with simpleApi or complexApi usage
      tags:
      - User
  /users/isAvailable/username:
    put:
      operationId: putIsAvailableUsername
      requestBody:
        content:
          application/json:
            schema:
              type: string
        description: The username to check.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedString"
          description: "The username is available (in this case, the output contains\
            \ the normalized available username)."
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Checks the availability of a username
      tags:
      - User
  /users/me:
    get:
      operationId: getMe
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedUser"
          description: User response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the current user
      tags:
      - User
  /users/{id}:
    delete:
      operationId: deleteUser
      parameters:
      - description: "Internal identifier: the id which was returned by the POST request."
        explode: false
        in: path
        name: id
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "204":
          description: The user was deleted.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes a single user
      tags:
      - User
    get:
      operationId: getUser
      parameters:
      - description: "Internal identifier: the id which was returned by the POST request."
        explode: false
        in: path
        name: id
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedUser"
          description: User response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves a single user
      tags:
      - User
    put:
      operationId: putUser
      parameters:
      - description: "Internal identifier: the id which was returned by the POST request."
        explode: false
        in: path
        name: id
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/User"
        description: The user to update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedUser"
          description: The user was updated.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates a single user
      tags:
      - User
  /clients:
    get:
      description: |
        By default, the clients' countries, regions and agencies are not provided.
        They can be included thanks to the "untilLevel" query parameter, which can be set to one of the following values:
        - "country": the resulting clients will contain their countries, without regions,
        - "region": the resulting clients will contain their countries and regions, without agencies,
        - "agency": the resulting clients will contain their countries, regions and agencies.
      operationId: getClients
      parameters:
      - description: The depth level.
        explode: true
        in: query
        name: untilLevel
        required: false
        schema:
          enum:
          - country
          - region
          - agency
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClients"
          description: Clients collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the clients which are visible by the current user
      tags:
      - Client
    post:
      description: |
        The creation of a client does not take into account the sub-objects, such as the client's countries.
        The creation of these sub-objects will be handled by specific endpoints,
        such as `POST /clients/{cliendId}/countries` for instance.
      operationId: postClient
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClientForCreation"
        description: A client entity contains the following informations.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClient"
          description: The client was created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Creates a single client
      tags:
      - Client
  /clients/isAvailable/name:
    put:
      operationId: putIsAvailableClientName
      requestBody:
        content:
          application/json:
            schema:
              type: string
        description: The client name to check.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedString"
          description: The client name is available.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Checks the availability of a client name
      tags:
      - Client
  /clients/isAvailable/prefix:
    put:
      operationId: putIsAvailableClientPrefix
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClientPrefix"
        description: The client prefix to check.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedString"
          description: The client prefix is available.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Checks the availability of a client prefix
      tags:
      - Client
  /clients/{clientId}:
    delete:
      operationId: deleteClient
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      responses:
        "204":
          description: The client was deleted and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing client
      tags:
      - Client
    get:
      description: |
        By default, the client's countries, regions and agencies are not provided.
        They can be included thanks to the "untilLevel" query parameter, which can be set to one of the following values:
        - "country": the resulting client will contain its countries, without regions,
        - "region": the resulting client will contain its countries and regions, without agencies,
        - "agency": the resulting client will contain its countries, regions and agencies.
      operationId: getClient
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The depth level.
        explode: true
        in: query
        name: untilLevel
        required: false
        schema:
          enum:
          - country
          - region
          - agency
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClient"
          description: Client response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves a single client
      tags:
      - Client
    put:
      description: |
        The update or creation of a client does not take into account the sub-objects, such as the client's countries.
        The update or creation of these sub-objects will be handled by specific endpoints,
        such as `PUT /clients/{cliendId}/countries/{countryId}` for instance.
      operationId: putClient
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/putClient_request"
        description: The client to update / create.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClient"
          description: The client was updated.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClient"
          description: The client was created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates or creates a single client
      tags:
      - Client
  /clients/{clientId}/countries:
    get:
      operationId: getClientCountries
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedCountries"
          description: Countries collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the countries of a single client (including their regions
        and agencies)
      tags:
      - Client
      - Country
    post:
      operationId: postClientCountry
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CountryForCreation"
        description: A country entity.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlainCountry"
          description: Country response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Creates a new country
      tags:
      - Client
      - Country
  /clients/{clientId}/countries/{countryId}:
    delete:
      operationId: deleteClientCountry
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      responses:
        "204":
          description: The country was deleted and no content is returned.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing country
      tags:
      - Client
      - Country
    put:
      operationId: putClientCountry
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/putClientCountry_request"
        description: A country entity.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlainCountry"
          description: Country response.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlainCountry"
          description: Country response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates an existing country or creates a new one if it doesn't exist
      tags:
      - Client
      - Country
  /clients/{clientId}/countries/{countryId}/regions:
    post:
      operationId: postClientRegion
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegionForCreation"
        description: A region entity.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlainRegion"
          description: Region response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Creates a new region
      tags:
      - Client
      - Region
  /clients/{clientId}/countries/{countryId}/regions/{regionId}:
    delete:
      operationId: deleteClientRegion
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      - description: The region id.
        explode: false
        in: path
        name: regionId
        required: true
        schema:
          $ref: "#/components/schemas/RegionId"
        style: simple
      responses:
        "204":
          description: The region was deleted and no content is returned.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing region
      tags:
      - Client
      - Region
    put:
      operationId: putClientRegion
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      - description: The region id.
        explode: false
        in: path
        name: regionId
        required: true
        schema:
          $ref: "#/components/schemas/RegionId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/putClientRegion_request"
        description: A region entity.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlainRegion"
          description: Region response.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlainRegion"
          description: Region response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates an existing region or creates a new one if it doesn't exist
      tags:
      - Client
      - Region
  /clients/{clientId}/countries/{countryId}/regions/{regionId}/agencies:
    post:
      operationId: postClientAgency
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      - description: The region id.
        explode: false
        in: path
        name: regionId
        required: true
        schema:
          $ref: "#/components/schemas/RegionId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgencyForCreation"
        description: An agency entity.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgency"
          description: Agency response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Creates a new agency
      tags:
      - Client
      - Agency
  /clients/{clientId}/countries/{countryId}/regions/{regionId}/agencies/{agencyId}:
    delete:
      operationId: deleteClientAgency
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      - description: The region id.
        explode: false
        in: path
        name: regionId
        required: true
        schema:
          $ref: "#/components/schemas/RegionId"
        style: simple
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      responses:
        "204":
          description: The agency was deleted and no content is returned.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing agency
      tags:
      - Client
      - Agency
    put:
      operationId: putClientAgency
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      - description: The region id.
        explode: false
        in: path
        name: regionId
        required: true
        schema:
          $ref: "#/components/schemas/RegionId"
        style: simple
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/putClientAgency_request"
        description: An agency entity.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgency"
          description: Agency response.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgency"
          description: Agency response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates an existing agency or creates a new one if it doesn't exist
      tags:
      - Client
      - Agency
  /clients/{clientId}/regions:
    get:
      operationId: getClientRegions
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedRegions"
          description: Regions collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the regions of a single client (including their agencies)
      tags:
      - Client
      - Region
  /clients/{clientId}/agencies:
    get:
      operationId: getClientAgencies
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencies"
          description: Agencies collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the agencies of a single client
      tags:
      - Client
      - Agency
  /clients/{clientId}/conf:
    get:
      operationId: getClientConf
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClientConf"
          description: Client conf response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the conf of a single client
      tags:
      - Client
    put:
      operationId: putClientConf
      parameters:
      - description: The client id.
        explode: false
        in: path
        name: clientId
        required: true
        schema:
          $ref: "#/components/schemas/ClientId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClientConf"
        description: The client conf to update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedClientConf"
          description: The client conf was updated.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates the conf of a single client
      tags:
      - Client
  /countries:
    get:
      description: |
        By default, the countries' regions and agencies are not provided.
        They can be included thanks to the "untilLevel" query parameter, which can be set to one of the following values:
        - "region": the resulting countries will contain their regions, without agencies,
        - "agency": the resulting countries will contain their regions and agencies.
      operationId: getCountries
      parameters:
      - description: The depth level.
        explode: true
        in: query
        name: untilLevel
        required: false
        schema:
          enum:
          - country
          - region
          - agency
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedCountries"
          description: Countries collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the countries which are visible by the current user
      tags:
      - Country
  /countries/{countryId}:
    delete:
      operationId: deleteCountry
      parameters:
      - description: The country id.
        explode: false
        in: path
        name: countryId
        required: true
        schema:
          $ref: "#/components/schemas/CountryId"
        style: simple
      responses:
        "204":
          description: The country was deleted and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing country
      tags:
      - Country
  /regions:
    get:
      description: |
        By default, the regions' agencies are not provided.
        They can be included thanks to the "untilLevel" query parameter, which can be set to the following value:
        - "agency": the resulting regions will contain their agencies,
      operationId: getRegions
      parameters:
      - description: The depth level.
        explode: true
        in: query
        name: untilLevel
        required: false
        schema:
          enum:
          - country
          - region
          - agency
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedRegions"
          description: Regions collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the regions which are visible by the current user
      tags:
      - Region
  /regions/{regionId}:
    delete:
      operationId: deleteRegion
      parameters:
      - description: The region id.
        explode: false
        in: path
        name: regionId
        required: true
        schema:
          $ref: "#/components/schemas/RegionId"
        style: simple
      responses:
        "204":
          description: The region was deleted and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing region
      tags:
      - Region
  /agencies:
    get:
      operationId: getAgencies
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencies"
          description: Agencies collection response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves the agencies which are visible by the current user
      tags:
      - Agency
  /agencies/{agencyId}:
    delete:
      operationId: deleteAgency
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      responses:
        "204":
          description: The agency was deleted and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes an existing agency
      tags:
      - Agency
  /agencies/{agencyId}/conf/globalTravelTimeCoefficient:
    delete:
      operationId: deleteAgencyConfGlobalTravelTimeCoefficient
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      responses:
        "204":
          description: The agency's configured global travel time coefficient was
            reset and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Resets the agency's configured global travel time coefficient
      tags:
      - Agency
      - Management
    put:
      operationId: putAgencyConfGlobalTravelTimeCoefficient
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GlobalTravelTimeCoefficient"
        description: The floating value for the coefficient.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedGlobalTravelTimeCoefficient"
          description: The applied floating value for the coefficient.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates the agency's configured global travel time coefficient configuration
      tags:
      - Agency
      - Management
  /agencies/{agencyId}/plans:
    get:
      description: |
        At the moment, retrieving a collection of plans is not paginated by default.
        The paging is performed when at least one of the paging query parameters (`page` or `itemsPerPage`) is
        present with a valid value.
        The default values are used like this:
        - if `page` is present and `itemsPerPage` is absent, the paging is performed with a default value for `itemsPerPage`,
        - if `itemsPerPage` is present and `page` is absent, the paging is performed with a default value for `page`,
        - but if both `page` and `itemsPerPage` are absent, no paging is performed.
      operationId: getPlans
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The page number of a paginated list of records.
        explode: true
        in: query
        name: page
        required: false
        schema:
          default: 1
          example: 1
          minimum: 1
          type: integer
        style: form
      - description: The number of items per page in a paginated list of records.
        explode: true
        in: query
        name: itemsPerPage
        required: false
        schema:
          default: 20
          example: 30
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - description: Indicates if and how archived items should be part of the result.
        explode: true
        in: query
        name: archived
        required: false
        schema:
          default: excluded
          enum:
          - excluded
          - included
          - only
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlansLight"
          description: Plan collection response in a light representation.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieves a collection of plans
      tags:
      - Plan
  /agencies/{agencyId}/plans/{planId}:
    delete:
      operationId: deletePlan
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "204":
          description: Plan is deleted and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete a plan
      tags:
      - Plan
    get:
      operationId: getPlan
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The plan mode.
        explode: true
        in: query
        name: mode
        required: false
        schema:
          $ref: "#/components/schemas/PlanMode"
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlan"
          description: Plan response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve a plan
      tags:
      - Plan
    put:
      operationId: putPlan
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Plan"
        description: The Plan to update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlan"
          description: Plan response updated.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlan"
          description: Plan response created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create or update a plan
      tags:
      - Core
      - Plan
  /agencies/{agencyId}/plans/{planId}/running:
    put:
      operationId: putPlanRunning
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      requestBody:
        content:
          application/json:
            schema:
              example: false
              type: boolean
        description: "A boolean value: false will stop the optimization, true will\
          \ restart the optimization."
      responses:
        "200":
          description: The request succeeded.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Stop or restart the optimization of a plan
      tags:
      - Management
      - Plan
  /agencies/{agencyId}/plans/{planId}/resources/{resourceId}:
    delete:
      operationId: deletePlanResource
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The resource id.
        explode: false
        in: path
        name: resourceId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      responses:
        "204":
          description: Resource is deleted and No content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete a plan's resource
      tags:
      - Resource
    get:
      operationId: getPlanResource
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The resource id.
        explode: false
        in: path
        name: resourceId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedResource"
          description: Resource response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve a plan's resource
      tags:
      - Resource
    put:
      operationId: putPlanResource
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The resource id.
        explode: false
        in: path
        name: resourceId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Resource"
        description: The Resource to update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedResource"
          description: Resource response updated.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedResource"
          description: Resource response created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create or update a plan's resource
      tags:
      - Resource
  /agencies/{agencyId}/plans/{planId}/resources/{resourceId}/state:
    get:
      operationId: getPlanResourceState
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The resource id.
        explode: false
        in: path
        name: resourceId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedState"
          description: State response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve a plan's resource state
      tags:
      - Resource
    put:
      operationId: putPlanResourceState
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The resource id.
        explode: false
        in: path
        name: resourceId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/State"
        description: The State to update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedState"
          description: State response updated.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Update a plan's resource state
      tags:
      - Resource
  /agencies/{agencyId}/plans/{planId}/resources/{resourceId}/forbid/{stopId}:
    put:
      description: |
        Forbidding a resource from doing a stop is performed internally by adding a forbidden assignment in the
        list of additional constraints of the plan. The forbidden assignment relies on:
        - a generated resource tag, based on the id of the resource (example: `generatedTag:$resource-2$:forbid`),
        - a generated stop tag, based on the id of the parent order of the stop (example: `generatedTag:$order-1$:forbid`).

        Important: all the sibling stops receive this same stop tag, which means that **all the stops of
        the order become forbidden for the resource**.
      operationId: putForbidResourceStop
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The resource id.
        explode: false
        in: path
        name: resourceId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The stop id.
        explode: false
        in: path
        name: stopId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlan"
          description: Updated plan response.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: "Forbid a resource from doing a stop, and return the updated plan"
      tags:
      - Resource
  /agencies/{agencyId}/plans/{planId}/orders/{orderId}:
    delete:
      operationId: deletePlanOrder
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The order id.
        explode: false
        in: path
        name: orderId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      responses:
        "204":
          description: Order is deleted and no content is returned.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete a plan's order
      tags:
      - Order
    get:
      operationId: getPlanOrder
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The order id.
        explode: false
        in: path
        name: orderId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedOrder"
          description: Order response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve a plan's order
      tags:
      - Order
    put:
      operationId: putPlanOrder
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The order id.
        explode: false
        in: path
        name: orderId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Order"
        description: The Order to update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedOrder"
          description: Order response updated.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedOrder"
          description: Order response created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create or update a plan's order
      tags:
      - Order
  /agencies/{agencyId}/plans/{planId}/solution:
    get:
      operationId: getPlanSolution
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSolution"
          description: Solution response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve a plan solution
      tags:
      - Core
      - Plan
      - Solution
  /agencies/{agencyId}/plans/{planId}/solution/objectives:
    get:
      operationId: getPlanSolutionObjectives
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSolutionObjectives"
          description: Solution objectives response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve the objectives of a plan solution
      tags:
      - Plan
      - Solution
  /agencies/{agencyId}/plans/{planId}/state:
    get:
      operationId: fetchLastPlanState
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedTimedPlanState"
          description: Latest plan state.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch the latest state of a plan
      tags:
      - Management
      - Plan
  /agencies/{agencyId}/plans/{planId}/states:
    get:
      operationId: fetchLastNPlanStates
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: |
          The number of items to fetch. The value should be a positive integer
          and if the limit is set to 0, all items will be fetched.
        explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 5
          example: 5
          minimum: 0
          type: integer
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedTimedPlanStates"
          description: Latest plan states.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch the latest states of a plan
      tags:
      - Management
      - Plan
  /agencies/{agencyId}/plans/{planId}/status:
    get:
      operationId: getPlanStatus
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanStatus"
          description: Plan status response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Retrieve a plan status
      tags:
      - Management
      - Plan
  /agencies/{agencyId}/plans/{planId}/mode:
    put:
      description: |
        By default, a plan is in "standard" mode: the solution is entirely built by the OR algorithms, following the various plan constraints.
        It is possible to switch the plan in "manual" mode: in this mode, the user can force some assignments which may violate some constraints.
      operationId: putPlanMode
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: "If true, on an archived item, the requested action will be forced\
          \ and the item will be unarchived."
        explode: true
        in: query
        name: force
        required: false
        schema:
          default: false
          type: boolean
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlanMode"
        description: The mode to set.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanMode"
          description: Plan mode response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Changes a plan's mode
      tags:
      - Plan
  /agencies/{agencyId}/plans/{planId}/manual/check:
    get:
      operationId: checkPlanManualMode
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedBoolResponse"
          description: Check response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Check if a plan is in manual mode
      tags:
      - Plan
  /agencies/{agencyId}/plans/{planId}/timeWindowScoring:
    post:
      operationId: postSmaScoring
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SMAInput"
        description: The smart meeting appointment input.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSMAOutput"
          description: The smart meeting appointment output.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Post an order to obtain time windows for a smart meeting appointment
      tags:
      - Smart Meeting Appointment
  /agencies/{agencyId}/sectorMapping:
    get:
      operationId: getAgencySectorMapping
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSectorMapping"
          description: The sector mapping.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: "Get the sector mapping which is currently applied in an agency, if\
        \ it exists"
      tags:
      - Agency
    put:
      operationId: putAgencySectorMapping
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SectorMapping"
        description: The sector mapping to be applied.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSectorMapping"
          description: The sector mapping was updated.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSectorMapping"
          description: The sector mapping was created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Put the sector mapping to be applied in an agency
      tags:
      - Agency
  /agencies/{agencyId}/timeWindowScoring:
    post:
      operationId: postSmaMultiPlanScoring
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SMAMultiPlanInput"
        description: The smart meeting appointment multi plans input.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSMAOutput"
          description: The smart meeting appointment output.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Post an order to obtain time windows for a smart meeting appointment
        in multiple plans of an agency
      tags:
      - Smart Meeting Appointment
  /agencies/{agencyId}/webhooks:
    get:
      operationId: fetchAgencyWebhooks
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencyWebhooks"
          description: The found webhooks.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch all agency webhooks
      tags:
      - Webhook
    post:
      operationId: createAgencyWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebhookCreate"
        description: The webhook for creation.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencyWebhook"
          description: The created webhook.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new agency webhook
      tags:
      - Webhook
  /agencies/{agencyId}/webhooks/{webhookId}:
    delete:
      operationId: deleteAgencyWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      responses:
        "204":
          description: No content response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes a single agency webhook
      tags:
      - Webhook
    get:
      operationId: fetchAgencyWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencyWebhook"
          description: The found webhook.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch a single agency webhook
      tags:
      - Webhook
    put:
      operationId: updateAgencyWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebhookUpdate"
        description: The webhook for update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencyWebhook"
          description: The updated webhook.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates an existing agency webhook
      tags:
      - Webhook
  /agencies/{agencyId}/webhooks/{webhookId}/results:
    get:
      operationId: fetchAgencyWebhookResults
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedAgencyWebhookResults"
          description: The found webhook results.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch an agency webhook's list of results
      tags:
      - Webhook
  /agencies/{agencyId}/plans/{planId}/webhooks:
    get:
      operationId: fetchPlanWebhooks
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanWebhooks"
          description: The found webhooks.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch all plan webhooks
      tags:
      - Webhook
    post:
      operationId: createPlanWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebhookCreate"
        description: The webhook for creation.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanWebhook"
          description: The created webhook.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new plan webhook
      tags:
      - Webhook
  /agencies/{agencyId}/plans/{planId}/webhooks/{webhookId}:
    delete:
      operationId: deletePlanWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      responses:
        "204":
          description: No content response.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Deletes a single plan webhook
      tags:
      - Webhook
    get:
      operationId: fetchPlanWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanWebhook"
          description: The found webhook.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch a single plan webhook
      tags:
      - Webhook
    put:
      operationId: updatePlanWebhook
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebhookUpdate"
        description: The webhook for update.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanWebhook"
          description: The updated webhook.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Updates an existing plan webhook
      tags:
      - Webhook
  /agencies/{agencyId}/plans/{planId}/webhooks/{webhookId}/results:
    get:
      operationId: fetchPlanWebhookResults
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      - description: The plan id.
        explode: false
        in: path
        name: planId
        required: true
        schema:
          $ref: "#/components/schemas/RegexIdValidation"
        style: simple
      - description: The webhook UUID.
        explode: false
        in: path
        name: webhookId
        required: true
        schema:
          $ref: "#/components/schemas/UUID"
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedPlanWebhookResults"
          description: The found webhook results.
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Fetch a plan webhook's list of results
      tags:
      - Webhook
  /agencies/{agencyId}/simplePlans:
    post:
      operationId: postSimplePlan
      parameters:
      - description: The agency id.
        explode: false
        in: path
        name: agencyId
        required: true
        schema:
          $ref: "#/components/schemas/AgencyId"
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SimplePlan"
        description: The SimplePlan to create.
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvelopedSimplePlan"
          description: The simple plan was created.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/NotAuthenticated"
        "403":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a simple plan
      tags:
      - SimplePlan
components:
  parameters:
    id:
      description: "Internal identifier: the id which was returned by the POST request."
      explode: false
      in: path
      name: id
      required: true
      schema:
        $ref: "#/components/schemas/RegexIdValidation"
      style: simple
    username:
      description: The username.
      explode: true
      in: query
      name: username
      required: false
      schema:
        $ref: "#/components/schemas/Username"
      style: form
    clientId:
      description: The client id.
      explode: false
      in: path
      name: clientId
      required: true
      schema:
        $ref: "#/components/schemas/ClientId"
      style: simple
    countryId:
      description: The country id.
      explode: false
      in: path
      name: countryId
      required: true
      schema:
        $ref: "#/components/schemas/CountryId"
      style: simple
    regionId:
      description: The region id.
      explode: false
      in: path
      name: regionId
      required: true
      schema:
        $ref: "#/components/schemas/RegionId"
      style: simple
    untilLevel:
      description: The depth level.
      explode: true
      in: query
      name: untilLevel
      required: false
      schema:
        enum:
        - country
        - region
        - agency
        type: string
      style: form
    agencyId:
      description: The agency id.
      explode: false
      in: path
      name: agencyId
      required: true
      schema:
        $ref: "#/components/schemas/AgencyId"
      style: simple
    planId:
      description: The plan id.
      explode: false
      in: path
      name: planId
      required: true
      schema:
        $ref: "#/components/schemas/RegexIdValidation"
      style: simple
    resourceId:
      description: The resource id.
      explode: false
      in: path
      name: resourceId
      required: true
      schema:
        $ref: "#/components/schemas/RegexIdValidation"
      style: simple
    orderId:
      description: The order id.
      explode: false
      in: path
      name: orderId
      required: true
      schema:
        $ref: "#/components/schemas/RegexIdValidation"
      style: simple
    stopId:
      description: The stop id.
      explode: false
      in: path
      name: stopId
      required: true
      schema:
        $ref: "#/components/schemas/RegexIdValidation"
      style: simple
    webhookId:
      description: The webhook UUID.
      explode: false
      in: path
      name: webhookId
      required: true
      schema:
        $ref: "#/components/schemas/UUID"
      style: simple
    originHeader:
      description: |
        The origin of the request.
        When an email needs to be sent, the "Origin" header value is used (after
        validation) to correctly generate the hyperlinks inside the email body.
      explode: false
      in: header
      name: originHeader
      required: false
      schema:
        format: uri
        type: string
      style: simple
    planMode:
      description: The plan mode.
      explode: true
      in: query
      name: mode
      required: false
      schema:
        $ref: "#/components/schemas/PlanMode"
      style: form
    limit:
      description: |
        The number of items to fetch. The value should be a positive integer
        and if the limit is set to 0, all items will be fetched.
      explode: true
      in: query
      name: limit
      required: false
      schema:
        default: 5
        example: 5
        minimum: 0
        type: integer
      style: form
    page:
      description: The page number of a paginated list of records.
      explode: true
      in: query
      name: page
      required: false
      schema:
        default: 1
        example: 1
        minimum: 1
        type: integer
      style: form
    itemsPerPage:
      description: The number of items per page in a paginated list of records.
      explode: true
      in: query
      name: itemsPerPage
      required: false
      schema:
        default: 20
        example: 30
        maximum: 100
        minimum: 1
        type: integer
      style: form
    force:
      description: "If true, on an archived item, the requested action will be forced\
        \ and the item will be unarchived."
      explode: true
      in: query
      name: force
      required: false
      schema:
        default: false
        type: boolean
      style: form
    archived:
      description: Indicates if and how archived items should be part of the result.
      explode: true
      in: query
      name: archived
      required: false
      schema:
        default: excluded
        enum:
        - excluded
        - included
        - only
        type: string
      style: form
  responses:
    BadRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: "The server could not understand the request due to invalid content\
        \ (bad syntax, bad format, bad values, etc)."
    NotAuthenticated:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: The caller is not authenticated.
    Unauthorized:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: The caller is not authorized to perform this action.
    Forbidden:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: The caller is not allowed to perform this action.
    NotFound:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: The specified resource was not found.
    ApiViolations:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: The payload you send is unprocessable because of some violations.
    InternalServerError:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EnvelopedErrors"
      description: An internal server error has occurred.
  schemas:
    RegexIdValidation:
      description: "At least one character among those allowed: unaccented alpha-numeric\
        \ characters, \"-\", \".\", \"_\", \"~\", \":\", \"@\", \"!\", \"$\", \",\"\
        ."
      pattern: "^[a-zA-Z0-9-._~:@!$,]+$"
      type: string
    RegexPrefixedIdValidation:
      description: An id beginning with a prefix and an underscore.
      pattern: "^[A-Z]{3,6}_[a-zA-Z0-9-._~:@!$,]+$"
      type: string
    RegexIsEmpty:
      description: Empty string.
      pattern: ^$
      type: string
    RegexIdValidationOrEmpty:
      oneOf:
      - $ref: "#/components/schemas/RegexIdValidation"
      - $ref: "#/components/schemas/RegexIsEmpty"
    RegexNotEmpty:
      description: Not empty string.
      pattern: .+
      type: string
    RegexPrefixValidation:
      description: Between 3 and 6 latin capital letters.
      pattern: "^[A-Z]{3,6}$"
      type: string
    Email:
      description: A valid email address.
      example: martin.dupont@kardinal.ai
      format: email
      type: string
    EnvelopedString:
      example:
        item: item
      properties:
        item:
          type: string
      type: object
    ObfuscatedEmail:
      description: An obfuscated representation of the email used for MFA.
      example: em***********.com
      nullable: true
      type: string
    AdditionalOperationDuration:
      description: Additional operation duration by stop tag and resource tag.
      example:
        stopTag: heavy
        resourceTag: trailer
        additionalOperationDuration: PT4M
      properties:
        resourceTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Resource tag.
          example: trailer
          type: string
        stopTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Stop tag.
          example: heavy
          type: string
        additionalOperationDuration:
          description: "A period of time, expressed in the ISO8601 **duration** format."
          example: PT4M
          pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
          type: string
      required:
      - additionalOperationDuration
      - resourceTag
      - stopTag
      type: object
    ForbiddenAssignment:
      description: Forbidden assignment by stop tag and resource tag.
      example:
        stopTag: heavy
        resourceTag: trailer
      properties:
        resourceTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Resource tag.
          example: trailer
          type: string
        stopTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Stop tag.
          example: heavy
          type: string
      required:
      - resourceTag
      - stopTag
      type: object
    StopTagPair:
      description: A pair of incompatible stop tags.
      example:
      - goat
      - cabbage
      items:
        allOf:
        - $ref: "#/components/schemas/RegexIdValidation"
        description: Stop tag.
      maxItems: 2
      minItems: 2
      type: array
      uniqueItems: true
    IncompatibleStopTags:
      deprecated: true
      description: Incompatibilities between stop tags (all elements must be different
        regardless of order).
      example:
      - - goat
        - cabbage
      - - wolf
        - goat
      items:
        $ref: "#/components/schemas/StopTagPair"
      type: array
      uniqueItems: true
    ClientPrefix:
      allOf:
      - $ref: "#/components/schemas/RegexPrefixValidation"
      description: The client unique prefix.
      example: LND
    ClientId:
      allOf:
      - $ref: "#/components/schemas/RegexPrefixedIdValidation"
      description: The client id.
      example: LND_FR
    CountryId:
      allOf:
      - $ref: "#/components/schemas/RegexPrefixedIdValidation"
      description: The country id.
      example: LND_France
      readOnly: true
    RegionId:
      allOf:
      - $ref: "#/components/schemas/RegexPrefixedIdValidation"
      description: The region id.
      example: LND_Ile-de-France
      readOnly: true
    AgencyId:
      allOf:
      - $ref: "#/components/schemas/RegexPrefixedIdValidation"
      description: The agency id.
      example: LND_Agency-42
      readOnly: true
    PlanId:
      allOf:
      - $ref: "#/components/schemas/RegexIdValidation"
      description: The plan id.
      example: plan-AB
      readOnly: true
    PlanVersion:
      description: The plan version.
      example: 42
      minimum: 1
      readOnly: true
      type: integer
    PublicKeyJWK:
      description: A public key in the JSON Web Key format.
      example:
        alg: ES384
        crv: P-384
        kid: ES384-key
        kty: EC
        use: sig
        x: TOl-t2xT1p21AXF-cvd35uKRDOeXejEJ3KTMc-vVD-wEs4TSVGYt2OlICe7dTRtb
        "y": tUGr_xN9xZsolH3DeFVWXjd0IJ1ZNzC-hippE8XApU7phY_KVKEbrrW8fg72uJiP
      externalDocs:
        url: https://tools.ietf.org/html/rfc7517
      type: object
    PublicKeyPEM:
      description: A public key in the Privacy-Enhanced Mail format.
      example: |
        -----BEGIN PUBLIC KEY-----
        MHYwEAYHKoZIzj0CAQYFK4EEACIDYgAETOl+t2xT1p21AXF+cvd35uKRDOeXejEJ
        3KTMc+vVD+wEs4TSVGYt2OlICe7dTRtbtUGr/xN9xZsolH3DeFVWXjd0IJ1ZNzC+
        hippE8XApU7phY/KVKEbrrW8fg72uJiP
        -----END PUBLIC KEY-----
      externalDocs:
        url: https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail
      type: string
    Password:
      allOf:
      - pattern: ".*[0-9]{1}"
        type: string
      - pattern: ".*[A-Z]{1}"
        type: string
      - pattern: ".*[a-z]{1}"
        type: string
      - pattern: ".*[!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]{1}"
        type: string
      - pattern: "^.{12,72}$"
        type: string
      description: |
        A user password must contain at least:
        - 1 number,
        - 1 uppercase letter,
        - 1 lowercase letter,
        - 1 special character amongst the following:
          !"#$%&'()*+,-./:;<=>?@[]^_`{|}~
        - 12 characters.
        And it must not exceed 72 bytes.
      example: {}
      format: password
      type: string
    Login:
      description: The payload to use for login.
      example:
        password: ""
        username: martin.dupont@kardinal.ai
      properties:
        username:
          $ref: "#/components/schemas/Username"
        password:
          allOf:
          - $ref: "#/components/schemas/Password"
          description: The user's password.
      required:
      - password
      - username
      type: object
    AzureSSOLogin:
      description: The payload to use for login through Azure SSO.
      example:
        idToken: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjFMVE16YWtpaGlSbGFfOHoyQkVKVlhlV01xbyJ9.eyJ2ZXIiOiIyLjAiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vOTEyMjA0MGQtNmM2Ny00YzViLWIxMTItMzZhMzA0YjY2ZGFkL3YyLjAiLCJzdWIiOiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFJa3pxRlZyU2FTYUZIeTc4MmJidGFRIiwiYXVkIjoiNmNiMDQwMTgtYTNmNS00NmE3LWI5OTUtOTQwYzc4ZjVhZWYzIiwiZXhwIjoxNTM2MzYxNDExLCJpYXQiOjE1MzYyNzQ3MTEsIm5iZiI6MTUzNjI3NDcxMSwibmFtZSI6IkFiZSBMaW5jb2xuIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiQWJlTGlAbWljcm9zb2Z0LmNvbSIsIm9pZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC02NmYzLTMzMzJlY2E3ZWE4MSIsInRpZCI6IjkxMjIwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsIm5vbmNlIjoiMTIzNTIzIiwiYWlvIjoiRGYyVVZYTDFpeCFsTUNXTVNPSkJjRmF0emNHZnZGR2hqS3Y4cTVnMHg3MzJkUjVNQjVCaXN2R1FPN1lXQnlqZDhpUURMcSFlR2JJRGFreXA1bW5PcmNkcUhlWVNubHRlcFFtUnA2QUlaOGpZIn0.1AFWW-Ck5nROwSlltm7GzZvDwUkqvhSQpm55TQsmVo9Y59cLhRXpvB8n-55HCr9Z6G_31_UbeUkoz612I2j_Sm9FFShSDDjoaLQr54CreGIJvjtmS3EkK9a7SJBbcpL1MpUtlfygow39tFjY7EVNW9plWUvRrTgVk7lYLprvfzw-CIqw3gHC-T7IK_m_xkr08INERBtaecwhTeN4chPC4W3jdmw_lIxzC48YoQ0dB1L9-ImX98Egypfrlbm0IBL5spFzL6JDZIRRJOu8vecJvj1mq-IUhGt0MacxX8jdxYLP-KUu2d9MbNKpCKJuZ7p8gwTL5B7NlUdh_dmSviPWrw
        accessToken: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Imk2bEdrM0ZaenhSY1ViMkMzbkVRN3N5SEpsWSJ9.eyJhdWQiOiI2ZTc0MTcyYi1iZTU2LTQ4NDMtOWZmNC1lNjZhMzliYjEyZTMiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3YyLjAiLCJpYXQiOjE1MzcyMzEwNDgsIm5iZiI6MTUzNzIzMTA0OCwiZXhwIjoxNTM3MjM0OTQ4LCJhaW8iOiJBWFFBaS84SUFBQUF0QWFaTG8zQ2hNaWY2S09udHRSQjdlQnE0L0RjY1F6amNKR3hQWXkvQzNqRGFOR3hYZDZ3TklJVkdSZ2hOUm53SjFsT2NBbk5aY2p2a295ckZ4Q3R0djMzMTQwUmlvT0ZKNGJDQ0dWdW9DYWcxdU9UVDIyMjIyZ0h3TFBZUS91Zjc5UVgrMEtJaWpkcm1wNjlSY3R6bVE9PSIsImF6cCI6IjZlNzQxNzJiLWJlNTYtNDg0My05ZmY0LWU2NmEzOWJiMTJlMyIsImF6cGFjciI6IjAiLCJuYW1lIjoiQWJlIExpbmNvbG4iLCJvaWQiOiI2OTAyMjJiZS1mZjFhLTRkNTYtYWJkMS03ZTRmN2QzOGU0NzQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhYmVsaUBtaWNyb3NvZnQuY29tIiwicmgiOiJJIiwic2NwIjoiYWNjZXNzX2FzX3VzZXIiLCJzdWIiOiJIS1pwZmFIeVdhZGVPb3VZbGl0anJJLUtmZlRtMjIyWDVyclYzeERxZktRIiwidGlkIjoiNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3IiwidXRpIjoiZnFpQnFYTFBqMGVRYTgyUy1JWUZBQSIsInZlciI6IjIuMCJ9.pj4N-w_3Us9DrBLfpCt
      properties:
        accessToken:
          example: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Imk2bEdrM0ZaenhSY1ViMkMzbkVRN3N5SEpsWSJ9.eyJhdWQiOiI2ZTc0MTcyYi1iZTU2LTQ4NDMtOWZmNC1lNjZhMzliYjEyZTMiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3YyLjAiLCJpYXQiOjE1MzcyMzEwNDgsIm5iZiI6MTUzNzIzMTA0OCwiZXhwIjoxNTM3MjM0OTQ4LCJhaW8iOiJBWFFBaS84SUFBQUF0QWFaTG8zQ2hNaWY2S09udHRSQjdlQnE0L0RjY1F6amNKR3hQWXkvQzNqRGFOR3hYZDZ3TklJVkdSZ2hOUm53SjFsT2NBbk5aY2p2a295ckZ4Q3R0djMzMTQwUmlvT0ZKNGJDQ0dWdW9DYWcxdU9UVDIyMjIyZ0h3TFBZUS91Zjc5UVgrMEtJaWpkcm1wNjlSY3R6bVE9PSIsImF6cCI6IjZlNzQxNzJiLWJlNTYtNDg0My05ZmY0LWU2NmEzOWJiMTJlMyIsImF6cGFjciI6IjAiLCJuYW1lIjoiQWJlIExpbmNvbG4iLCJvaWQiOiI2OTAyMjJiZS1mZjFhLTRkNTYtYWJkMS03ZTRmN2QzOGU0NzQiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhYmVsaUBtaWNyb3NvZnQuY29tIiwicmgiOiJJIiwic2NwIjoiYWNjZXNzX2FzX3VzZXIiLCJzdWIiOiJIS1pwZmFIeVdhZGVPb3VZbGl0anJJLUtmZlRtMjIyWDVyclYzeERxZktRIiwidGlkIjoiNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3IiwidXRpIjoiZnFpQnFYTFBqMGVRYTgyUy1JWUZBQSIsInZlciI6IjIuMCJ9.pj4N-w_3Us9DrBLfpCt
          type: string
        idToken:
          example: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjFMVE16YWtpaGlSbGFfOHoyQkVKVlhlV01xbyJ9.eyJ2ZXIiOiIyLjAiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vOTEyMjA0MGQtNmM2Ny00YzViLWIxMTItMzZhMzA0YjY2ZGFkL3YyLjAiLCJzdWIiOiJBQUFBQUFBQUFBQUFBQUFBQUFBQUFJa3pxRlZyU2FTYUZIeTc4MmJidGFRIiwiYXVkIjoiNmNiMDQwMTgtYTNmNS00NmE3LWI5OTUtOTQwYzc4ZjVhZWYzIiwiZXhwIjoxNTM2MzYxNDExLCJpYXQiOjE1MzYyNzQ3MTEsIm5iZiI6MTUzNjI3NDcxMSwibmFtZSI6IkFiZSBMaW5jb2xuIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiQWJlTGlAbWljcm9zb2Z0LmNvbSIsIm9pZCI6IjAwMDAwMDAwLTAwMDAtMDAwMC02NmYzLTMzMzJlY2E3ZWE4MSIsInRpZCI6IjkxMjIwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZCIsIm5vbmNlIjoiMTIzNTIzIiwiYWlvIjoiRGYyVVZYTDFpeCFsTUNXTVNPSkJjRmF0emNHZnZGR2hqS3Y4cTVnMHg3MzJkUjVNQjVCaXN2R1FPN1lXQnlqZDhpUURMcSFlR2JJRGFreXA1bW5PcmNkcUhlWVNubHRlcFFtUnA2QUlaOGpZIn0.1AFWW-Ck5nROwSlltm7GzZvDwUkqvhSQpm55TQsmVo9Y59cLhRXpvB8n-55HCr9Z6G_31_UbeUkoz612I2j_Sm9FFShSDDjoaLQr54CreGIJvjtmS3EkK9a7SJBbcpL1MpUtlfygow39tFjY7EVNW9plWUvRrTgVk7lYLprvfzw-CIqw3gHC-T7IK_m_xkr08INERBtaecwhTeN4chPC4W3jdmw_lIxzC48YoQ0dB1L9-ImX98Egypfrlbm0IBL5spFzL6JDZIRRJOu8vecJvj1mq-IUhGt0MacxX8jdxYLP-KUu2d9MbNKpCKJuZ7p8gwTL5B7NlUdh_dmSviPWrw
          type: string
      required:
      - accessToken
      - idToken
      type: object
    GoogleSSOLogin:
      description: The payload to use for login through Google SSO.
      example:
        accessToken: ya28.a0AfB_byCbEgO5rOeu73KBdAv0ZeiEFz7xzgxtdCzailCy9ew6BCgKUaiheRxDJ1Do8HbiXVxMcm5jyo_5fV_yAtYKhSLKayMvGH0n00E-NtOgtH5myIhpc7heq5zZ788XSzoHxJ9aSWR_y1Vr7-zWiRWe_YANqnmEo6FaaCgYKAckERASSFQHGX2MilpI4NsOBgWYkOo1zKgJPmg0171
      properties:
        accessToken:
          example: ya28.a0AfB_byCbEgO5rOeu73KBdAv0ZeiEFz7xzgxtdCzailCy9ew6BCgKUaiheRxDJ1Do8HbiXVxMcm5jyo_5fV_yAtYKhSLKayMvGH0n00E-NtOgtH5myIhpc7heq5zZ788XSzoHxJ9aSWR_y1Vr7-zWiRWe_YANqnmEo6FaaCgYKAckERASSFQHGX2MilpI4NsOBgWYkOo1zKgJPmg0171
          type: string
      required:
      - accessToken
      type: object
    GDPRApproval:
      description: The payload to use for a GDPR policy approval.
      example:
        version: version
      properties:
        version:
          type: string
      required:
      - version
      type: object
    OTPToken:
      description: "A JSON Web Token with scope 'otp', to be used with an OTP (One-Time\
        \ Password) value, valid for 10 minutes."
      example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
      type: string
    GDPRToken:
      description: "A JSON Web Token with scope 'gdpr', to be used to approve a GDPR\
        \ policy, valid for 1 hour."
      example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI4OTgzMDUwLCJpYXQiOjE3Mjg5Nzk0NTAsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyODk3OTQ0OSwic2NvcGUiOiJnZHByIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.0Bfl_ckUrPGmocrXWoMDbUN4Xl0ZnHrEJV9JKzG1d8_Aw69EXZZie-qI4yFiQR1tnVp56RUz6UIAMIvrcMp9DA
      type: string
    MFAToken:
      description: "A JSON Web Token with scope 'mfa', to be used to setup MFA authentication,\
        \ valid for 1 hour."
      example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzMyNjQ0MzY0LCJpYXQiOjE3MzI2NDA3NjQsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTczMjY0MDc2Mywic2NvcGUiOiJtZmEiLCJzdWIiOiJtYXJ0aW4uZHVwb250QGthcmRpbmFsLmFpIn0.XdFyT6ov-Y3GNIgudfm68hIAfIoj4SyKLule3HAnfceDXChEfHllninFiPAEwEzLCRDWOscTTu3J2Vkb3VysDg
      type: string
    AccessToken:
      description: "A JSON Web Token with scope 'access', to be used to access protected\
        \ data, valid for 1 hour."
      example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
      type: string
    RefreshToken:
      description: "A JSON Web Token with scope 'refresh', to be used to refresh the\
        \ access token, valid for 30 days."
      example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6InJlZnJlc2giLCJzdWIiOiJ0b3RvIn0.6QkM9IV3mHPG2jAqfCj5jm44ha-cPA85JEkDQR46kZ9Y8cuzN8nqCxhN67j2MYFJYSEEIYnwYimR3fZUIr-9Bg
      type: string
    PasswordToken:
      description: "A JSON Web Token with scope 'password', to be used to set or reset\
        \ one's password, valid for 24 hours (for creation) or 10 minutes (for reset)."
      example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2ODYzMDM4MDYsImlhdCI6MTY4NjMwMzIwNiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjg2MzAzMjA1LCJzY29wZSI6InBhc3N3b3JkIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.U4ZSlGVVTx10LLVrk8Lta1GwZITMr49LICPhJ5zByrXqi1d0wFhwpUokz4eQSzZxWNsyA70xGmRdZjhFclaTBQ
      type: string
    EnvelopedLoginGDPROutput:
      description: "An object containing a 'gdpr' JSON Web Token, returned by a successful\
        \ login of a user which needs to approve a GDPR policy."
      example:
        access_token: ""
        item:
          gdprToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI4OTgzMDUwLCJpYXQiOjE3Mjg5Nzk0NTAsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyODk3OTQ0OSwic2NvcGUiOiJnZHByIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.0Bfl_ckUrPGmocrXWoMDbUN4Xl0ZnHrEJV9JKzG1d8_Aw69EXZZie-qI4yFiQR1tnVp56RUz6UIAMIvrcMp9DA
      properties:
        item:
          $ref: "#/components/schemas/EnvelopedLoginGDPROutput_item"
        access_token:
          allOf:
          - $ref: "#/components/schemas/GDPRToken"
          deprecated: true
      type: object
    EnvelopedLoginMFAOutput:
      description: "An object containing a 'mfa' JSON Web Token, returned by a successful\
        \ login of a user which needs to setup MFA authentication."
      properties:
        item:
          $ref: "#/components/schemas/EnvelopedLoginMFAOutput_item"
        access_token:
          allOf:
          - $ref: "#/components/schemas/MFAToken"
          deprecated: true
      type: object
    EnvelopedLoginAccessOutput:
      description: "An object containing the access and refresh JSON Web Tokens and\
        \ the user description, returned by a successful login."
      example:
        access_token: ""
        refresh_token: ""
        item:
          accessToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
          user:
            firstname: Martin
            role: expert
            regions: ""
            clientId: ""
            level: country
            active: true
            agencies: ""
            countries: ""
            type: standard
            managedClientsIds:
            - LND_FR
            - LND_FR
            lastname: DUPONT
            createdAt: ""
            password: ""
            lastLoginAt: ""
            id: 483fad31-415d-4d9e-8edd-c8f936e71520
            gdprInfo:
              approvedAt: 2019-11-15T12:34:56Z
              version: version
            username: martin.dupont@kardinal.ai
            status: pending
            updatedAt: ""
          refreshToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6InJlZnJlc2giLCJzdWIiOiJ0b3RvIn0.6QkM9IV3mHPG2jAqfCj5jm44ha-cPA85JEkDQR46kZ9Y8cuzN8nqCxhN67j2MYFJYSEEIYnwYimR3fZUIr-9Bg
        user: ""
      properties:
        item:
          $ref: "#/components/schemas/EnvelopedLoginAccessOutput_item"
        access_token:
          allOf:
          - $ref: "#/components/schemas/AccessToken"
          deprecated: true
        refresh_token:
          allOf:
          - $ref: "#/components/schemas/RefreshToken"
          deprecated: true
        user:
          allOf:
          - $ref: "#/components/schemas/User"
          deprecated: true
      type: object
    UsernameRequest:
      description: An object containing a username.
      example:
        username: martin.dupont@kardinal.ai
      properties:
        username:
          $ref: "#/components/schemas/Username"
      type: object
    PasswordRequest:
      description: An object containing a new password and a confirmation of the new
        password.
      example:
        password: ""
        confirmPassword: ""
      properties:
        password:
          allOf:
          - $ref: "#/components/schemas/Password"
          description: A new password.
        confirmPassword:
          allOf:
          - $ref: "#/components/schemas/Password"
          description: The confirmation of the new password.
      type: object
    TokenRequest:
      description: An object containing a password token.
      example:
        token: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2ODYzMDM4MDYsImlhdCI6MTY4NjMwMzIwNiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjg2MzAzMjA1LCJzY29wZSI6InBhc3N3b3JkIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.U4ZSlGVVTx10LLVrk8Lta1GwZITMr49LICPhJ5zByrXqi1d0wFhwpUokz4eQSzZxWNsyA70xGmRdZjhFclaTBQ
      properties:
        token:
          description: "A JSON Web Token with scope 'password', to be used to set\
            \ or reset one's password, valid for 24 hours (for creation) or 10 minutes\
            \ (for reset)."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2ODYzMDM4MDYsImlhdCI6MTY4NjMwMzIwNiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjg2MzAzMjA1LCJzY29wZSI6InBhc3N3b3JkIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.U4ZSlGVVTx10LLVrk8Lta1GwZITMr49LICPhJ5zByrXqi1d0wFhwpUokz4eQSzZxWNsyA70xGmRdZjhFclaTBQ
          type: string
      type: object
    EnvelopedLoginRefreshOutput:
      description: An object containing the new access token.
      properties:
        item:
          $ref: "#/components/schemas/EnvelopedLoginRefreshOutput_item"
        access_token:
          allOf:
          - $ref: "#/components/schemas/AccessToken"
          deprecated: true
      type: object
    AuthenticationMethod:
      description: An authentication method to be used for login.
      properties:
        provider:
          description: The name of the authentication provider.
          type: string
        properties:
          description: Additional properties needed by the authentication method.
          type: object
        authUrl:
          description: The absolute path of the login endpoint to use.
          type: string
      required:
      - authUrl
      - provider
      type: object
    AuthenticationMethods:
      example:
      - provider: azure
        properties:
          tenantId: 460498e4-4a40-48c1-884a-93deaddbc1a3
          clientId: "030b609a-e9cc-49bf-bedc-fbf846a4d8b6,"
          scopes:
          - api://030b609a-e9cc-49bf-bedc-fbf846a4d8b6/UsersRead
        authUrl: /api/v2/login/sso/azure
      - provider: kardinal
        authUrl: /api/v2/login
      items:
        $ref: "#/components/schemas/AuthenticationMethod"
      type: array
    EnvelopedAuthenticationMethods:
      example:
        items:
        - - provider: azure
            properties:
              tenantId: 460498e4-4a40-48c1-884a-93deaddbc1a3
              clientId: "030b609a-e9cc-49bf-bedc-fbf846a4d8b6,"
              scopes:
              - api://030b609a-e9cc-49bf-bedc-fbf846a4d8b6/UsersRead
            authUrl: /api/v2/login/sso/azure
          - provider: kardinal
            authUrl: /api/v2/login
        - - provider: azure
            properties:
              tenantId: 460498e4-4a40-48c1-884a-93deaddbc1a3
              clientId: "030b609a-e9cc-49bf-bedc-fbf846a4d8b6,"
              scopes:
              - api://030b609a-e9cc-49bf-bedc-fbf846a4d8b6/UsersRead
            authUrl: /api/v2/login/sso/azure
          - provider: kardinal
            authUrl: /api/v2/login
      properties:
        items:
          items:
            $ref: "#/components/schemas/AuthenticationMethods"
          type: array
      type: object
    CountryIds:
      description: A list of country identifiers.
      example:
      - LND_France
      - LND_Belgique
      items:
        $ref: "#/components/schemas/CountryId"
      type: array
    RegionIds:
      description: A list of region identifiers.
      example:
      - LND_Ile-de-France
      - LND_Grand-Ouest
      items:
        $ref: "#/components/schemas/RegionId"
      type: array
    AgencyIds:
      description: A list of agency identifiers.
      example:
      - LND_Agency-01
      - LND_Agency-42
      items:
        $ref: "#/components/schemas/AgencyId"
      type: array
    Role:
      default: analyst
      description: The user's role.
      enum:
      - analyst
      - expert
      - super
      example: expert
      type: string
    Level:
      default: agency
      description: The user's level.
      enum:
      - super
      - platformAdmin
      - admin
      - owner
      - country
      - region
      - agency
      example: country
      type: string
    Username:
      description: "The username is used for login, it is unique for each user, it\
        \ can be either an email (for clients) or a regular username (for Kardinal's\
        \ internal users)."
      example: martin.dupont@kardinal.ai
      type: string
    UserStatus:
      description: The user's status.
      enum:
      - enabled
      - disabled
      - pending
      example: pending
      readOnly: true
      type: string
    UserType:
      default: standard
      description: The user type.
      enum:
      - standard
      - api
      - simpleApi
      example: standard
      type: string
    User:
      description: A user is a person who can use Platform's services.
      example:
        firstname: Martin
        role: expert
        regions: ""
        clientId: ""
        level: country
        active: true
        agencies: ""
        countries: ""
        type: standard
        managedClientsIds:
        - LND_FR
        - LND_FR
        lastname: DUPONT
        createdAt: ""
        password: ""
        lastLoginAt: ""
        id: 483fad31-415d-4d9e-8edd-c8f936e71520
        gdprInfo:
          approvedAt: 2019-11-15T12:34:56Z
          version: version
        username: martin.dupont@kardinal.ai
        status: pending
        updatedAt: ""
      properties:
        id:
          description: Kardinal's unique identifier.
          example: 483fad31-415d-4d9e-8edd-c8f936e71520
          format: uuid
          readOnly: true
          type: string
        username:
          $ref: "#/components/schemas/Username"
        type:
          $ref: "#/components/schemas/UserType"
        password:
          allOf:
          - $ref: "#/components/schemas/Password"
          description: The user's password.
          writeOnly: true
        role:
          $ref: "#/components/schemas/Role"
        firstname:
          description: The user's first name.
          example: Martin
          nullable: true
          type: string
        lastname:
          description: The user's last name.
          example: DUPONT
          nullable: true
          type: string
        level:
          $ref: "#/components/schemas/Level"
        countries:
          allOf:
          - $ref: "#/components/schemas/CountryIds"
          description: The countries whose data the user is allowed to see.
        regions:
          allOf:
          - $ref: "#/components/schemas/RegionIds"
          description: The regions whose data the user is allowed to see.
        agencies:
          allOf:
          - $ref: "#/components/schemas/AgencyIds"
          description: The agencies whose data the user is allowed to see.
        active:
          description: Represents whether the user is enabled or disabled internally.
          example: true
          type: boolean
        status:
          $ref: "#/components/schemas/UserStatus"
        lastLoginAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: Represents the last login date of the user.
          nullable: true
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The user's creation date.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The user's last update date.
          nullable: true
          readOnly: true
        clientId:
          allOf:
          - $ref: "#/components/schemas/ClientId"
          description: |
            The id of the client whom the user is linked to.
            It can be empty for a user which level is greater than 'owner'.

            When creating a new user, this id can be left empty if:
            - the caller has the level 'region' or 'country' or 'owner': in this case, the clientId of the new user is inherited from the clientId of the caller,
            - the new user has a level greater than 'owner'.
        gdprInfo:
          $ref: "#/components/schemas/User_gdprInfo"
        managedClientsIds:
          description: "For an 'admin' user only: the ids of the clients which are\
            \ managed by this user."
          items:
            $ref: "#/components/schemas/ClientId"
          type: array
      required:
      - username
      type: object
    EnvelopedUser:
      example:
        item:
          firstname: Martin
          role: expert
          regions: ""
          clientId: ""
          level: country
          active: true
          agencies: ""
          countries: ""
          type: standard
          managedClientsIds:
          - LND_FR
          - LND_FR
          lastname: DUPONT
          createdAt: ""
          password: ""
          lastLoginAt: ""
          id: 483fad31-415d-4d9e-8edd-c8f936e71520
          gdprInfo:
            approvedAt: 2019-11-15T12:34:56Z
            version: version
          username: martin.dupont@kardinal.ai
          status: pending
          updatedAt: ""
      properties:
        item:
          $ref: "#/components/schemas/User"
      type: object
    EnvelopedUsers:
      example:
        items:
        - firstname: Martin
          role: expert
          regions: ""
          clientId: ""
          level: country
          active: true
          agencies: ""
          countries: ""
          type: standard
          managedClientsIds:
          - LND_FR
          - LND_FR
          lastname: DUPONT
          createdAt: ""
          password: ""
          lastLoginAt: ""
          id: 483fad31-415d-4d9e-8edd-c8f936e71520
          gdprInfo:
            approvedAt: 2019-11-15T12:34:56Z
            version: version
          username: martin.dupont@kardinal.ai
          status: pending
          updatedAt: ""
        - firstname: Martin
          role: expert
          regions: ""
          clientId: ""
          level: country
          active: true
          agencies: ""
          countries: ""
          type: standard
          managedClientsIds:
          - LND_FR
          - LND_FR
          lastname: DUPONT
          createdAt: ""
          password: ""
          lastLoginAt: ""
          id: 483fad31-415d-4d9e-8edd-c8f936e71520
          gdprInfo:
            approvedAt: 2019-11-15T12:34:56Z
            version: version
          username: martin.dupont@kardinal.ai
          status: pending
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/User"
          type: array
      type: object
    UserAPIInput:
      description: |
        An input which allows to create a user with simpleApi or complexApi usage, the associated client, and the client hierarchy.
      example:
        firstname: firstname
        company: company
        type: simpleApi
        email: martin.dupont@kardinal.ai
        lastname: lastname
      properties:
        email:
          description: A valid email address.
          example: martin.dupont@kardinal.ai
          format: email
          type: string
        company:
          description: The client name to use for this simpleApi/complexApi user.
          type: string
        type:
          default: simpleApi
          description: |
            The input type describes the desired API usage:
            - simpleApi: will create a user with type "simpleApi" and access to a simplified ARO API,
            - complexApi: will create a user with type "standard" and access to the full ARO API.
          enum:
          - simpleApi
          - complexApi
          type: string
        firstname:
          description: The user's first name
          type: string
        lastname:
          description: The user's last name
          type: string
      required:
      - company
      - email
      type: object
    UserAPIOutput:
      description: "An object containing a newly created simpleApi/complexApi user,\
        \ with his JWT access tokens."
      example:
        user:
          firstname: Martin
          role: expert
          regions: ""
          clientId: ""
          level: country
          active: true
          agencies: ""
          countries: ""
          type: standard
          managedClientsIds:
          - LND_FR
          - LND_FR
          lastname: DUPONT
          createdAt: ""
          password: ""
          lastLoginAt: ""
          id: 483fad31-415d-4d9e-8edd-c8f936e71520
          gdprInfo:
            approvedAt: 2019-11-15T12:34:56Z
            version: version
          username: martin.dupont@kardinal.ai
          status: pending
          updatedAt: ""
        accessTokens:
          test: eyJhbGciOiJFZERTQSJ9.eyJhZ2...7EmUDA
          prod: eyJhbGciOiJFZERTQSJ9.eyJhZ2...4vEdCw
      properties:
        user:
          $ref: "#/components/schemas/User"
        accessTokens:
          $ref: "#/components/schemas/UserAPIOutput_accessTokens"
      type: object
    EnvelopedUserAPIOutput:
      example:
        item:
          user:
            firstname: Martin
            role: expert
            regions: ""
            clientId: ""
            level: country
            active: true
            agencies: ""
            countries: ""
            type: standard
            managedClientsIds:
            - LND_FR
            - LND_FR
            lastname: DUPONT
            createdAt: ""
            password: ""
            lastLoginAt: ""
            id: 483fad31-415d-4d9e-8edd-c8f936e71520
            gdprInfo:
              approvedAt: 2019-11-15T12:34:56Z
              version: version
            username: martin.dupont@kardinal.ai
            status: pending
            updatedAt: ""
          accessTokens:
            test: eyJhbGciOiJFZERTQSJ9.eyJhZ2...7EmUDA
            prod: eyJhbGciOiJFZERTQSJ9.eyJhZ2...4vEdCw
      properties:
        item:
          $ref: "#/components/schemas/UserAPIOutput"
      type: object
    Agency:
      description: A client's agency.
      example:
        createdAt: ""
        name: Agence LND Paris 9
        id: id
        updatedAt: ""
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/AgencyId"
          readOnly: true
          type: string
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The agency's creation date.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The agency's last update date.
          nullable: true
          readOnly: true
        name:
          description: The agency name.
          example: Agence LND Paris 9
          type: string
      required:
      - id
      type: object
    AgencyForCreation:
      description: An agency payload for the creation of an agency.
      example:
        name: Agence 42
        id: LND_Agency-42
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/AgencyId"
          example: LND_Agency-42
          nullable: false
          readOnly: false
        name:
          description: The agency name.
          example: Agence 42
          type: string
      required:
      - id
      type: object
    AgencyForUpdate:
      description: An agency payload for the update of an agency.
      properties:
        name:
          description: The agency name.
          example: Agence 42
          nullable: true
          type: string
      type: object
    EnvelopedAgency:
      example:
        item:
          createdAt: ""
          name: Agence LND Paris 9
          id: id
          updatedAt: ""
      properties:
        item:
          $ref: "#/components/schemas/Agency"
      type: object
    Agencies:
      items:
        $ref: "#/components/schemas/Agency"
      type: array
    EnvelopedAgencies:
      example:
        items:
        - createdAt: ""
          name: Agence LND Paris 9
          id: id
          updatedAt: ""
        - createdAt: ""
          name: Agence LND Paris 9
          id: id
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/Agency"
          type: array
      type: object
    PlainRegion:
      description: "A client's region, without agencies."
      example:
        createdAt: ""
        name: Ile-de-France
        id: id
        updatedAt: ""
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/RegionId"
          readOnly: true
          type: string
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The region's creation date.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The region's last update date.
          nullable: true
          readOnly: true
        name:
          description: The region name.
          example: Ile-de-France
          type: string
      required:
      - id
      type: object
    EnvelopedPlainRegion:
      example:
        item:
          createdAt: ""
          name: Ile-de-France
          id: id
          updatedAt: ""
      properties:
        item:
          $ref: "#/components/schemas/PlainRegion"
      type: object
    Region:
      allOf:
      - $ref: "#/components/schemas/PlainRegion"
      - properties:
          agencies:
            $ref: "#/components/schemas/Agencies"
      description: "A client's region, containing one or more agency(ies)."
      example:
        createdAt: ""
        name: Ile-de-France
        agencies:
        - createdAt: ""
          name: Agence LND Paris 9
          id: id
          updatedAt: ""
        - createdAt: ""
          name: Agence LND Paris 9
          id: id
          updatedAt: ""
        id: id
        updatedAt: ""
      type: object
    RegionForCreation:
      description: A region payload for the creation of a region.
      example:
        name: Rgion Ile de France
        id: LND_Ile-de-France
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/RegionId"
          example: LND_Ile-de-France
          nullable: false
          readOnly: false
        name:
          description: The region name.
          example: Rgion Ile de France
          type: string
      required:
      - id
      type: object
    RegionForUpdate:
      description: A region payload for the update of a region.
      properties:
        name:
          description: The region name.
          example: Grand Ouest
          nullable: true
          type: string
      type: object
    Regions:
      items:
        $ref: "#/components/schemas/Region"
      type: array
    EnvelopedRegions:
      example:
        items:
        - createdAt: ""
          name: Ile-de-France
          agencies:
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          id: id
          updatedAt: ""
        - createdAt: ""
          name: Ile-de-France
          agencies:
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          id: id
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/Region"
          type: array
      type: object
    PlainCountry:
      description: "A client's country, without regions."
      example:
        createdAt: ""
        name: France
        id: id
        updatedAt: ""
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/CountryId"
          readOnly: true
          type: string
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The country's creation date.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The country's last update date.
          nullable: true
          readOnly: true
        name:
          description: The country name.
          example: France
          type: string
      required:
      - id
      type: object
    EnvelopedPlainCountry:
      example:
        item:
          createdAt: ""
          name: France
          id: id
          updatedAt: ""
      properties:
        item:
          $ref: "#/components/schemas/PlainCountry"
      type: object
    Country:
      allOf:
      - $ref: "#/components/schemas/PlainCountry"
      - properties:
          regions:
            $ref: "#/components/schemas/Regions"
      description: "A client's country, containing one or more region(s)."
      example:
        createdAt: ""
        regions:
        - createdAt: ""
          name: Ile-de-France
          agencies:
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          id: id
          updatedAt: ""
        - createdAt: ""
          name: Ile-de-France
          agencies:
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Agence LND Paris 9
            id: id
            updatedAt: ""
          id: id
          updatedAt: ""
        name: France
        id: id
        updatedAt: ""
      type: object
    CountryForCreation:
      description: A country payload for the creation of a country.
      example:
        name: Pays France
        id: LND_France
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/CountryId"
          example: LND_France
          nullable: false
          readOnly: false
        name:
          description: The country name.
          example: Pays France
          type: string
      required:
      - id
      type: object
    CountryForUpdate:
      description: A country payload for the update of a country.
      properties:
        name:
          description: The country name.
          example: France
          nullable: true
          type: string
      type: object
    Countries:
      items:
        $ref: "#/components/schemas/Country"
      type: array
    EnvelopedCountries:
      example:
        items:
        - createdAt: ""
          regions:
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          name: France
          id: id
          updatedAt: ""
        - createdAt: ""
          regions:
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          name: France
          id: id
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/Country"
          type: array
      type: object
    ProductConf:
      description: A product configuration.
      properties:
        allowed:
          type: boolean
        customProperties:
          additionalProperties: true
          example:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          type: object
        archiving:
          additionalProperties:
            $ref: "#/components/schemas/Duration"
          description: "The delay before data is archived, for each concerned module."
          type: object
        retention:
          additionalProperties:
            $ref: "#/components/schemas/Duration"
          description: "The delay before data is cleaned up, for each concerned module."
          type: object
      type: object
    APIConfSpecific:
      default:
        allowed: false
      description: A product complementary configuration for API.
      type: object
    AROConfSpecific:
      default:
        allowed: false
        archiving:
          phoebe: P14D
          paola: P3M
        retention:
          phoebe: P1Y
          paola: P1Y
          iris: P1Y
      description: A product complementary configuration for ARO.
      type: object
    TAOConfSpecific:
      default:
        allowed: true
        requiredProperties: null
        maxSectorizationsInParallel: 5
        archiving:
          beatrix: P1Y
        retention:
          beatrix: P1Y
      description: A product complementary configuration for TAO.
      properties:
        requiredProperties:
          $ref: "#/components/schemas/TAOConfRequiredProperties"
        maxSectorizationsInParallel:
          default: 5
          format: integer
          minimum: 0
          type: number
      type: object
    PUDOConfSpecific:
      default:
        allowed: false
        archiving:
          padme: P1Y
        retention:
          padme: P1Y
      description: A product complementary configuration for PUDO.
      type: object
    ClientConf:
      description: A client's configuration.
      example:
        tao:
          customProperties:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          requiredProperties:
            cells:
            - postalCode
            stops:
            - address
            samples:
            - date
            - dow
            - activityLevel
          allowed: true
          maxSectorizationsInParallel: 0.08008281904610115
          archiving:
            key: PT4M
          retention:
            key: PT4M
        customProperties:
          foo: 42
          bar: alpha
          toto:
          - 2
          - 4
          - 6
          - 8
          titi:
            one: 1
            two: PT33M32S
            three: false
            four:
            - bla
            five:
              cat: 4
        pudo:
          customProperties:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          allowed: true
          archiving:
            key: PT4M
          retention:
            key: PT4M
        api:
          customProperties:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          allowed: true
          archiving:
            key: PT4M
          retention:
            key: PT4M
        aro:
          customProperties:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          allowed: true
          archiving:
            key: PT4M
          retention:
            key: PT4M
      properties:
        api:
          $ref: "#/components/schemas/ClientConf_api"
        aro:
          $ref: "#/components/schemas/ClientConf_aro"
        tao:
          $ref: "#/components/schemas/ClientConf_tao"
        pudo:
          $ref: "#/components/schemas/ClientConf_pudo"
        customProperties:
          additionalProperties: true
          example:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          type: object
      type: object
    EnvelopedClientConf:
      example:
        item:
          tao:
            customProperties:
              foo: 42
              bar: alpha
              toto:
              - 2
              - 4
              - 6
              - 8
              titi:
                one: 1
                two: PT33M32S
                three: false
                four:
                - bla
                five:
                  cat: 4
            requiredProperties:
              cells:
              - postalCode
              stops:
              - address
              samples:
              - date
              - dow
              - activityLevel
            allowed: true
            maxSectorizationsInParallel: 0.08008281904610115
            archiving:
              key: PT4M
            retention:
              key: PT4M
          customProperties:
            foo: 42
            bar: alpha
            toto:
            - 2
            - 4
            - 6
            - 8
            titi:
              one: 1
              two: PT33M32S
              three: false
              four:
              - bla
              five:
                cat: 4
          pudo:
            customProperties:
              foo: 42
              bar: alpha
              toto:
              - 2
              - 4
              - 6
              - 8
              titi:
                one: 1
                two: PT33M32S
                three: false
                four:
                - bla
                five:
                  cat: 4
            allowed: true
            archiving:
              key: PT4M
            retention:
              key: PT4M
          api:
            customProperties:
              foo: 42
              bar: alpha
              toto:
              - 2
              - 4
              - 6
              - 8
              titi:
                one: 1
                two: PT33M32S
                three: false
                four:
                - bla
                five:
                  cat: 4
            allowed: true
            archiving:
              key: PT4M
            retention:
              key: PT4M
          aro:
            customProperties:
              foo: 42
              bar: alpha
              toto:
              - 2
              - 4
              - 6
              - 8
              titi:
                one: 1
                two: PT33M32S
                three: false
                four:
                - bla
                five:
                  cat: 4
            allowed: true
            archiving:
              key: PT4M
            retention:
              key: PT4M
      properties:
        item:
          $ref: "#/components/schemas/ClientConf"
      type: object
    TAOConfRequiredProperties:
      description: The required properties for TAO.
      example:
        cells:
        - postalCode
        stops:
        - address
        samples:
        - date
        - dow
        - activityLevel
      properties:
        cells:
          example:
          - postalCode
          items:
            type: string
          type: array
        samples:
          example:
          - date
          - dow
          - activityLevel
          items:
            type: string
          type: array
        stops:
          example:
          - address
          items:
            type: string
          type: array
      type: object
    ClientForCreation:
      description: A Kardinal's client payload for creation.
      example:
        prefix: LND
        name: Lanidrak
        conf: ""
        id: ""
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/ClientId"
          nullable: false
          readOnly: false
        name:
          description: The client name.
          example: Lanidrak
          type: string
        prefix:
          allOf:
          - $ref: "#/components/schemas/ClientPrefix"
          example: LND
          nullable: false
          readOnly: false
        conf:
          allOf:
          - $ref: "#/components/schemas/ClientConf"
          nullable: true
      required:
      - id
      - prefix
      type: object
    ClientForUpdate:
      description: A Kardinal's client payload for update.
      properties:
        name:
          description: The client name.
          example: Lanidrak
          type: string
        conf:
          allOf:
          - $ref: "#/components/schemas/ClientConf"
          nullable: true
      type: object
    Client:
      description: A Kardinal's client.
      example:
        createdAt: ""
        ownerIds:
        - ee247398-ef7e-4566-96ce-11963f19d940
        - ee247398-ef7e-4566-96ce-11963f19d940
        prefix: LND
        name: Lanidrak
        conf: ""
        id: ""
        countries:
        - createdAt: ""
          regions:
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          name: France
          id: id
          updatedAt: ""
        - createdAt: ""
          regions:
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          - createdAt: ""
            name: Ile-de-France
            agencies:
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Agence LND Paris 9
              id: id
              updatedAt: ""
            id: id
            updatedAt: ""
          name: France
          id: id
          updatedAt: ""
        updatedAt: ""
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/ClientId"
          nullable: false
          readOnly: false
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The client's creation date.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The client's last update date.
          nullable: true
          readOnly: true
        name:
          description: The client name.
          example: Lanidrak
          type: string
        prefix:
          allOf:
          - $ref: "#/components/schemas/ClientPrefix"
          example: LND
          nullable: false
          readOnly: false
        ownerIds:
          description: The identifier(s) of the user(s) who can manage the client.
          items:
            example: ee247398-ef7e-4566-96ce-11963f19d940
            type: string
          type: array
        countries:
          items:
            $ref: "#/components/schemas/Country"
          type: array
        conf:
          allOf:
          - $ref: "#/components/schemas/ClientConf"
          nullable: true
      required:
      - id
      - prefix
      type: object
    Clients:
      items:
        $ref: "#/components/schemas/Client"
      type: array
    EnvelopedClient:
      example:
        item:
          createdAt: ""
          ownerIds:
          - ee247398-ef7e-4566-96ce-11963f19d940
          - ee247398-ef7e-4566-96ce-11963f19d940
          prefix: LND
          name: Lanidrak
          conf: ""
          id: ""
          countries:
          - createdAt: ""
            regions:
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            name: France
            id: id
            updatedAt: ""
          - createdAt: ""
            regions:
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            name: France
            id: id
            updatedAt: ""
          updatedAt: ""
      properties:
        item:
          $ref: "#/components/schemas/Client"
      type: object
    EnvelopedClients:
      example:
        items:
        - createdAt: ""
          ownerIds:
          - ee247398-ef7e-4566-96ce-11963f19d940
          - ee247398-ef7e-4566-96ce-11963f19d940
          prefix: LND
          name: Lanidrak
          conf: ""
          id: ""
          countries:
          - createdAt: ""
            regions:
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            name: France
            id: id
            updatedAt: ""
          - createdAt: ""
            regions:
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            name: France
            id: id
            updatedAt: ""
          updatedAt: ""
        - createdAt: ""
          ownerIds:
          - ee247398-ef7e-4566-96ce-11963f19d940
          - ee247398-ef7e-4566-96ce-11963f19d940
          prefix: LND
          name: Lanidrak
          conf: ""
          id: ""
          countries:
          - createdAt: ""
            regions:
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            name: France
            id: id
            updatedAt: ""
          - createdAt: ""
            regions:
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            - createdAt: ""
              name: Ile-de-France
              agencies:
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              - createdAt: ""
                name: Agence LND Paris 9
                id: id
                updatedAt: ""
              id: id
              updatedAt: ""
            name: France
            id: id
            updatedAt: ""
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/Client"
          type: array
      type: object
    PlanLight:
      description: "A plan without resources, orders, ... for a date and agency."
      example:
        running: true
        agencyId: LND_Agency-42
        id: plan-AB
        version: 42
        properties:
          key: properties
        status:
          planVersionInSolution: ""
          optimization: ""
          waitingTraffic: ""
          waitingRoom: ""
          creation: ""
      properties:
        id:
          $ref: "#/components/schemas/PlanId"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        version:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
        running:
          description: To know if the plan is running.
          readOnly: true
          type: boolean
        status:
          $ref: "#/components/schemas/PlanStatus"
        properties:
          additionalProperties:
            type: string
          type: object
      type: object
    EnvelopedPlansLight:
      example:
        agencyId: LND_Agency-42
        paging:
          total: 142
          previousPage: 1
          nextPage: 3
          itemsPerPage: 30
          totalPages: 5
          page: 2
        items:
        - running: true
          agencyId: LND_Agency-42
          id: plan-AB
          version: 42
          properties:
            key: properties
          status:
            planVersionInSolution: ""
            optimization: ""
            waitingTraffic: ""
            waitingRoom: ""
            creation: ""
        - running: true
          agencyId: LND_Agency-42
          id: plan-AB
          version: 42
          properties:
            key: properties
          status:
            planVersionInSolution: ""
            optimization: ""
            waitingTraffic: ""
            waitingRoom: ""
            creation: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/PlanLight"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        paging:
          $ref: "#/components/schemas/Paging"
      type: object
    Plan:
      description: "A plan for a date and agency, with resource and orders associated."
      example:
        additionalConstraints:
        - resourceTags:
          - subcontractorA
          - subcontractorB
          name: name
          capacities:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: atLeastOneValidCapacity
        - resourceTags:
          - subcontractorA
          - subcontractorB
          name: name
          capacities:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: atLeastOneValidCapacity
        tz: Europe/Paris
        accessDurationsByStopTag:
          access:parking33: PT5M
        agencyId: LND_Agency-42
        operationDurationPoliciesByResourceTag:
          key:
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
        incompatibleStopTags: ""
        running: true
        createdAt: ""
        sharedCapacities: false
        setupDurations:
        - toStopTag: setup:belgium
          setupDuration: ""
          fromStopTag: setup:france
        - toStopTag: setup:belgium
          setupDuration: ""
          fromStopTag: setup:france
        id: plan-AB
        state: ""
        lateDeparture: false
        updatedAt: ""
        resources:
        - cost: ""
          preferredStopTags:
          - access:parking33
          - capa:bat22
          - setup:france
          breaks:
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          travelTimeCoefficient: 1.05
          arrival:
            lon: 2.3269331
            lat: 48.8812658
          workingTimeWindow: ""
          priority: 0
          tags:
          - trailer
          skills:
          - forklift
          - truck
          maxWorkingDuration: ""
          operationDurationPolicies:
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          vehicleProfile:
            kmph: 6.027456183070403
            type: fly
          capacities: ""
          id: ""
          state: ""
          departure: ""
          properties:
            key: properties
          maxDistanceInKm: 1.4658129805029452
        - cost: ""
          preferredStopTags:
          - access:parking33
          - capa:bat22
          - setup:france
          breaks:
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          travelTimeCoefficient: 1.05
          arrival:
            lon: 2.3269331
            lat: 48.8812658
          workingTimeWindow: ""
          priority: 0
          tags:
          - trailer
          skills:
          - forklift
          - truck
          maxWorkingDuration: ""
          operationDurationPolicies:
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          vehicleProfile:
            kmph: 6.027456183070403
            type: fly
          capacities: ""
          id: ""
          state: ""
          departure: ""
          properties:
            key: properties
          maxDistanceInKm: 1.4658129805029452
        additionalOperationDurations:
        - stopTag: heavy
          resourceTag: trailer
          additionalOperationDuration: PT4M
        - stopTag: heavy
          resourceTag: trailer
          additionalOperationDuration: PT4M
        version: 42
        archivedAt: ""
        forbiddenAssignments:
        - stopTag: heavy
          resourceTag: trailer
        - stopTag: heavy
          resourceTag: trailer
        overlappingCapacitiesByStopTag:
          capa:bat22: 3
        orders:
        - successiveStops: true
          maxStopSpan: ""
          optional: true
          requiredSkills:
          - forklift
          - truck
          id: ""
          stops:
          - kind: delivery
            operationDuration: ""
            preferredTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            authorizedTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            capacities: ""
            id: ""
            position: ""
            type: single
            properties:
              key: properties
            tags:
            - access:parking33
            - capa:bat22
            - setup:france
          - kind: delivery
            operationDuration: ""
            preferredTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            authorizedTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            capacities: ""
            id: ""
            position: ""
            type: single
            properties:
              key: properties
            tags:
            - access:parking33
            - capa:bat22
            - setup:france
          priority: 5
          properties:
            key: properties
        - successiveStops: true
          maxStopSpan: ""
          optional: true
          requiredSkills:
          - forklift
          - truck
          id: ""
          stops:
          - kind: delivery
            operationDuration: ""
            preferredTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            authorizedTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            capacities: ""
            id: ""
            position: ""
            type: single
            properties:
              key: properties
            tags:
            - access:parking33
            - capa:bat22
            - setup:france
          - kind: delivery
            operationDuration: ""
            preferredTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            authorizedTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            capacities: ""
            id: ""
            position: ""
            type: single
            properties:
              key: properties
            tags:
            - access:parking33
            - capa:bat22
            - setup:france
          priority: 5
          properties:
            key: properties
        objectives: ""
        globalConstraints:
        - name: name
          maximum: 5.637376656633329
          type: maxCumulatedCost
          costsByResourceTag:
            key:
              costsByStopTag:
                key:
                  costCoeff: 9.301444243932576
                  constantCost: 2.3021358869347655
                  overcostCoeff: 2.027123023002322
                  costFloor: 7.061401241503109
                  overcostFloor: 3.616076749251911
              km:
                costCoeff: 9.301444243932576
                constantCost: 2.3021358869347655
                overcostCoeff: 2.027123023002322
                costFloor: 7.061401241503109
                overcostFloor: 3.616076749251911
              using: 4.145608029883936
              costsByCapacity:
                key:
                  stopTags:
                  - warehouse
                  - stop
              workedHours:
                costCoeff: 9.301444243932576
                constantCost: 2.3021358869347655
                overcostCoeff: 2.027123023002322
                costFloor: 7.061401241503109
                overcostFloor: 3.616076749251911
        - name: name
          maximum: 5.637376656633329
          type: maxCumulatedCost
          costsByResourceTag:
            key:
              costsByStopTag:
                key:
                  costCoeff: 9.301444243932576
                  constantCost: 2.3021358869347655
                  overcostCoeff: 2.027123023002322
                  costFloor: 7.061401241503109
                  overcostFloor: 3.616076749251911
              km:
                costCoeff: 9.301444243932576
                constantCost: 2.3021358869347655
                overcostCoeff: 2.027123023002322
                costFloor: 7.061401241503109
                overcostFloor: 3.616076749251911
              using: 4.145608029883936
              costsByCapacity:
                key:
                  stopTags:
                  - warehouse
                  - stop
              workedHours:
                costCoeff: 9.301444243932576
                constantCost: 2.3021358869347655
                overcostCoeff: 2.027123023002322
                costFloor: 7.061401241503109
                overcostFloor: 3.616076749251911
        properties: ""
        maxOptimizationDuration: ""
        status: ""
      properties:
        id:
          $ref: "#/components/schemas/PlanId"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        version:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
        running:
          description: To know if the plan is running.
          readOnly: true
          type: boolean
        status:
          allOf:
          - $ref: "#/components/schemas/PlanStatus"
        state:
          allOf:
          - $ref: "#/components/schemas/PlanState"
        properties:
          allOf:
          - $ref: "#/components/schemas/Properties"
        resources:
          items:
            $ref: "#/components/schemas/Resource"
          type: array
        orders:
          items:
            $ref: "#/components/schemas/Order"
          type: array
        additionalOperationDurations:
          description: "Additional operation time for a resource and a stop, according\
            \ to tags (pairs of tags must be unique)."
          items:
            $ref: "#/components/schemas/AdditionalOperationDuration"
          type: array
          uniqueItems: true
        operationDurationPoliciesByResourceTag:
          additionalProperties:
            items:
              $ref: "#/components/schemas/OperationDurationPolicy"
            type: array
          description: "Policies to remove the operation durations, by resource tag."
          type: object
        forbiddenAssignments:
          deprecated: true
          items:
            $ref: "#/components/schemas/ForbiddenAssignment"
          type: array
          uniqueItems: true
        incompatibleStopTags:
          allOf:
          - $ref: "#/components/schemas/IncompatibleStopTags"
        additionalConstraints:
          items:
            $ref: "#/components/schemas/Plan_additionalConstraints_inner"
          type: array
        globalConstraints:
          description: List of global constraints to be satisfied by the returned
            solution.
          items:
            $ref: "#/components/schemas/Plan_globalConstraints_inner"
          type: array
        accessDurationsByStopTag:
          additionalProperties:
            allOf:
            - $ref: "#/components/schemas/Duration"
          description: Access durations is an additional duration before the beginning
            of a group of stops with the same stop tag.
          example:
            access:parking33: PT5M
          type: object
        overlappingCapacitiesByStopTag:
          additionalProperties:
            type: integer
          description: This field allows users to define a limit in the number of
            resources that are simultaneously present at stops sharing the same stop
            tag.
          example:
            capa:bat22: 3
          type: object
        setupDurations:
          items:
            $ref: "#/components/schemas/SetupDuration"
          type: array
        objectives:
          allOf:
          - $ref: "#/components/schemas/PlanObjectives"
        maxOptimizationDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        tz:
          description: |
            The time zone is a string code which identifies a region of the world in the "time zone database", also called "tz database".
            The tz database is a partition of the world into regions where local clocks all show the same time.
            This database gives the rules for time offset and daylight saving time in each region.

            How do we use it?

            In order to work with time events accurately, we usually use datetimes in the iso-8601 format, without explicit time zone.
            This format is quite well suported by many programming languages, and it is well suited for technical data exchange.
            But it is not easy to use for humans.

            For instance, here are three datetimes in iso-8601 format, which give the same exact moment in time:
            - "2025-05-22T05:43:00Z"
            - "2025-05-22T06:43:00+01:00"
            - "2025-05-22T07:43:00+02:00"

            For a non-technical user, it is difficult to know how to relate this to the time displayed on a watch or a clock.

            We improve the user experience by adding the support of local datetimes, thanks to the use of the time zone,
            which allows to transform a local datetime into an iso-8601 datetime:
            - local datetime + timezone (tz) = iso-8601 datetime

            For instance, here are five datetimes which all give the same exact moment in time:
            - "2025-05-22T05:43:00Z"
            - "2025-05-22T06:43:00+01:00"
            - "2025-05-22T07:43:00+02:00"
            - "2025-05-22 07:43:00"       + timezone "tz": "Europe/Paris"
            - "2025-05-22 07:43"          + timezone "tz": "Europe/Paris"

            Note: the last example ("2025-05-22 07:43") illustrates the support of local datetimes without seconds,
            which can be very practical for users.

            In order for local datetimes to be supported, some JSON input objects contain a "tz" time zone property.
            This "tz" property is used to pre-process the JSON input payload, like this:
            - We check if a valid timezone can be extracted from the "tz" property,
            - If so, we perform the following actions:
              - Walk through the whole JSON content to look for local datetimes,
              - Use the timezone to transform each local datetime into an iso-8601 datetime.

            Important: some objects contain a "properties" sub-object, which is a map of custom client data;
            the content of the "properties" sub-objects is always excluded from the time zone pre-processing.
          example: Europe/Paris
          externalDocs:
            url: https://www.iana.org/time-zones
          type: string
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The plan's creation datetime.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The plan's last update datetime.
          nullable: true
          readOnly: true
        archivedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: "The plan's archiving datetime: if not null, the plan is archived."
          nullable: true
          readOnly: true
          example: null
        lateDeparture:
          default: false
          description: "True if lateDeparture is requested for Resources, false otherwise."
          type: boolean
        sharedCapacities:
          default: false
          description: "True if sharedCapacities is requested for Resources, false\
            \ otherwise. It enables resources to share capacities between stops of\
            \ different orders."
          type: boolean
      required:
      - agencyId
      - id
      - resources
      type: object
    EnvelopedPlan:
      example:
        item:
          additionalConstraints:
          - resourceTags:
            - subcontractorA
            - subcontractorB
            name: name
            capacities:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            type: atLeastOneValidCapacity
          - resourceTags:
            - subcontractorA
            - subcontractorB
            name: name
            capacities:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            type: atLeastOneValidCapacity
          tz: Europe/Paris
          accessDurationsByStopTag:
            access:parking33: PT5M
          agencyId: LND_Agency-42
          operationDurationPoliciesByResourceTag:
            key:
            - stopTags:
              - access:parking33
              - capa:bat22
              - setup:france
              policy: withoutFirstOperationDuration
            - stopTags:
              - access:parking33
              - capa:bat22
              - setup:france
              policy: withoutFirstOperationDuration
          incompatibleStopTags: ""
          running: true
          createdAt: ""
          sharedCapacities: false
          setupDurations:
          - toStopTag: setup:belgium
            setupDuration: ""
            fromStopTag: setup:france
          - toStopTag: setup:belgium
            setupDuration: ""
            fromStopTag: setup:france
          id: plan-AB
          state: ""
          lateDeparture: false
          updatedAt: ""
          resources:
          - cost: ""
            preferredStopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            breaks:
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            travelTimeCoefficient: 1.05
            arrival:
              lon: 2.3269331
              lat: 48.8812658
            workingTimeWindow: ""
            priority: 0
            tags:
            - trailer
            skills:
            - forklift
            - truck
            maxWorkingDuration: ""
            operationDurationPolicies:
            - stopTags:
              - access:parking33
              - capa:bat22
              - setup:france
              policy: withoutFirstOperationDuration
            - stopTags:
              - access:parking33
              - capa:bat22
              - setup:france
              policy: withoutFirstOperationDuration
            vehicleProfile:
              kmph: 6.027456183070403
              type: fly
            capacities: ""
            id: ""
            state: ""
            departure: ""
            properties:
              key: properties
            maxDistanceInKm: 1.4658129805029452
          - cost: ""
            preferredStopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            breaks:
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            travelTimeCoefficient: 1.05
            arrival:
              lon: 2.3269331
              lat: 48.8812658
            workingTimeWindow: ""
            priority: 0
            tags:
            - trailer
            skills:
            - forklift
            - truck
            maxWorkingDuration: ""
            operationDurationPolicies:
            - stopTags:
              - access:parking33
              - capa:bat22
              - setup:france
              policy: withoutFirstOperationDuration
            - stopTags:
              - access:parking33
              - capa:bat22
              - setup:france
              policy: withoutFirstOperationDuration
            vehicleProfile:
              kmph: 6.027456183070403
              type: fly
            capacities: ""
            id: ""
            state: ""
            departure: ""
            properties:
              key: properties
            maxDistanceInKm: 1.4658129805029452
          additionalOperationDurations:
          - stopTag: heavy
            resourceTag: trailer
            additionalOperationDuration: PT4M
          - stopTag: heavy
            resourceTag: trailer
            additionalOperationDuration: PT4M
          version: 42
          archivedAt: ""
          forbiddenAssignments:
          - stopTag: heavy
            resourceTag: trailer
          - stopTag: heavy
            resourceTag: trailer
          overlappingCapacitiesByStopTag:
            capa:bat22: 3
          orders:
          - successiveStops: true
            maxStopSpan: ""
            optional: true
            requiredSkills:
            - forklift
            - truck
            id: ""
            stops:
            - kind: delivery
              operationDuration: ""
              preferredTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              authorizedTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              capacities: ""
              id: ""
              position: ""
              type: single
              properties:
                key: properties
              tags:
              - access:parking33
              - capa:bat22
              - setup:france
            - kind: delivery
              operationDuration: ""
              preferredTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              authorizedTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              capacities: ""
              id: ""
              position: ""
              type: single
              properties:
                key: properties
              tags:
              - access:parking33
              - capa:bat22
              - setup:france
            priority: 5
            properties:
              key: properties
          - successiveStops: true
            maxStopSpan: ""
            optional: true
            requiredSkills:
            - forklift
            - truck
            id: ""
            stops:
            - kind: delivery
              operationDuration: ""
              preferredTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              authorizedTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              capacities: ""
              id: ""
              position: ""
              type: single
              properties:
                key: properties
              tags:
              - access:parking33
              - capa:bat22
              - setup:france
            - kind: delivery
              operationDuration: ""
              preferredTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              authorizedTimeWindows:
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              - resourceTags:
                - subcontractorA
                - subcontractorB
                end: 2019-11-15T12:34:56Z
                begin: 2019-11-15T12:34:56Z
              capacities: ""
              id: ""
              position: ""
              type: single
              properties:
                key: properties
              tags:
              - access:parking33
              - capa:bat22
              - setup:france
            priority: 5
            properties:
              key: properties
          objectives: ""
          globalConstraints:
          - name: name
            maximum: 5.637376656633329
            type: maxCumulatedCost
            costsByResourceTag:
              key:
                costsByStopTag:
                  key:
                    costCoeff: 9.301444243932576
                    constantCost: 2.3021358869347655
                    overcostCoeff: 2.027123023002322
                    costFloor: 7.061401241503109
                    overcostFloor: 3.616076749251911
                km:
                  costCoeff: 9.301444243932576
                  constantCost: 2.3021358869347655
                  overcostCoeff: 2.027123023002322
                  costFloor: 7.061401241503109
                  overcostFloor: 3.616076749251911
                using: 4.145608029883936
                costsByCapacity:
                  key:
                    stopTags:
                    - warehouse
                    - stop
                workedHours:
                  costCoeff: 9.301444243932576
                  constantCost: 2.3021358869347655
                  overcostCoeff: 2.027123023002322
                  costFloor: 7.061401241503109
                  overcostFloor: 3.616076749251911
          - name: name
            maximum: 5.637376656633329
            type: maxCumulatedCost
            costsByResourceTag:
              key:
                costsByStopTag:
                  key:
                    costCoeff: 9.301444243932576
                    constantCost: 2.3021358869347655
                    overcostCoeff: 2.027123023002322
                    costFloor: 7.061401241503109
                    overcostFloor: 3.616076749251911
                km:
                  costCoeff: 9.301444243932576
                  constantCost: 2.3021358869347655
                  overcostCoeff: 2.027123023002322
                  costFloor: 7.061401241503109
                  overcostFloor: 3.616076749251911
                using: 4.145608029883936
                costsByCapacity:
                  key:
                    stopTags:
                    - warehouse
                    - stop
                workedHours:
                  costCoeff: 9.301444243932576
                  constantCost: 2.3021358869347655
                  overcostCoeff: 2.027123023002322
                  costFloor: 7.061401241503109
                  overcostFloor: 3.616076749251911
          properties: ""
          maxOptimizationDuration: ""
          status: ""
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/Plan"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    PlanState:
      description: |
        The corresponding plan's state.
          - waiting: The plan was received and is awaiting processing.
          - processing: The plan is being processed.
          - preOptimizing: The plan is being optimized while awaiting traffic or other information.
          - optimizing: The plan is being optimized with all required information.
          - optimized: This state can be triggered by one of the following events:
              No better solution can be produced or the optimization period has reached its limit.
              Note that 'optimized' is not final and can be triggered more than once.
          - stopped: The plan's awaiting optimizations were canceled.
          - deleted: The plan was deleted and awaiting optimizations were canceled.
          - interrupted: The plan was either updated, stopped or deleted during its optimization.
      enum:
      - waiting
      - processing
      - preOptimizing
      - optimizing
      - optimized
      - stopped
      - deleted
      - interrupted
      readOnly: true
      type: string
    TimedPlanState:
      example:
        planVersion: 2
        state: waiting
        timestamp: 2019-11-15T12:34:56Z
      properties:
        planVersion:
          description: The corresponding plan's version.
          example: 2
          type: number
        timestamp:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        state:
          $ref: "#/components/schemas/PlanState"
      readOnly: true
      type: object
    EnvelopedTimedPlanState:
      example:
        item:
          planVersion: 2
          state: waiting
          timestamp: 2019-11-15T12:34:56Z
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/TimedPlanState"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
      type: object
    EnvelopedTimedPlanStates:
      example:
        agencyId: LND_Agency-42
        planId: plan-AB
        items:
        - planVersion: 2
          state: waiting
          timestamp: 2019-11-15T12:34:56Z
        - planVersion: 2
          state: waiting
          timestamp: 2019-11-15T12:34:56Z
      properties:
        items:
          items:
            $ref: "#/components/schemas/TimedPlanState"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
      type: object
    PlanStatus:
      example:
        planVersionInSolution: ""
        optimization: ""
        waitingTraffic: ""
        waitingRoom: ""
        creation: ""
      properties:
        planVersionInSolution:
          allOf:
          - $ref: "#/components/schemas/PlanVersion"
          description: The plan version taken into account in the current solution.
        waitingRoom:
          allOf:
          - $ref: "#/components/schemas/PlanStatusVersion"
          description: "If the maximum number of simultaneous running plans has already\
            \ been reached, the plan waits in the waiting room for one of the running\
            \ plans to finish."
        waitingTraffic:
          allOf:
          - $ref: "#/components/schemas/PlanStatusVersion"
          description: The plan is waiting for its traffic coefficients to be computed.
        creation:
          allOf:
          - $ref: "#/components/schemas/PlanStatusVersion"
          description: The plan is being created in order to be optimized.
        optimization:
          allOf:
          - $ref: "#/components/schemas/PlanStatusVersion"
          description: The plan is being optimized.
      readOnly: true
      type: object
    EnvelopedPlanStatus:
      example:
        item:
          planVersionInSolution: ""
          optimization: ""
          waitingTraffic: ""
          waitingRoom: ""
          creation: ""
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/PlanStatus"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    PlanMode:
      default: standard
      enum:
      - standard
      - manual
      example: standard
      type: string
    EnvelopedPlanMode:
      example:
        item: standard
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/PlanMode"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    EnvelopedBoolResponse:
      example:
        item: true
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          example: true
          type: boolean
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    PlanStatusVersion:
      properties:
        waitingVersion:
          allOf:
          - $ref: "#/components/schemas/PlanVersion"
          description: The version currently waiting.
        runningVersion:
          allOf:
          - $ref: "#/components/schemas/PlanVersion"
          description: The version currently running.
      type: object
    Properties:
      additionalProperties:
        type: string
      type: object
    Resource:
      example:
        cost: ""
        preferredStopTags:
        - access:parking33
        - capa:bat22
        - setup:france
        breaks:
        - duration: ""
          timeWindow: ""
          type: timeWindowBreak
        - duration: ""
          timeWindow: ""
          type: timeWindowBreak
        travelTimeCoefficient: 1.05
        arrival:
          lon: 2.3269331
          lat: 48.8812658
        workingTimeWindow: ""
        priority: 0
        tags:
        - trailer
        skills:
        - forklift
        - truck
        maxWorkingDuration: ""
        operationDurationPolicies:
        - stopTags:
          - access:parking33
          - capa:bat22
          - setup:france
          policy: withoutFirstOperationDuration
        - stopTags:
          - access:parking33
          - capa:bat22
          - setup:france
          policy: withoutFirstOperationDuration
        vehicleProfile:
          kmph: 6.027456183070403
          type: fly
        capacities: ""
        id: ""
        state: ""
        departure: ""
        properties:
          key: properties
        maxDistanceInKm: 1.4658129805029452
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Resource ids must be unique within a plan.
        properties:
          additionalProperties:
            type: string
          type: object
        state:
          allOf:
          - $ref: "#/components/schemas/State"
        cost:
          allOf:
          - $ref: "#/components/schemas/Cost"
        priority:
          default: 0
          description: "0 by default, can be negative."
          type: integer
        skills:
          example:
          - forklift
          - truck
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        preferredStopTags:
          example:
          - access:parking33
          - capa:bat22
          - setup:france
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        tags:
          example:
          - trailer
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        vehicleProfile:
          $ref: "#/components/schemas/Resource_vehicleProfile"
        capacities:
          allOf:
          - $ref: "#/components/schemas/Capacities"
        departure:
          allOf:
          - $ref: "#/components/schemas/Position"
        arrival:
          $ref: "#/components/schemas/Resource_arrival"
        workingTimeWindow:
          allOf:
          - $ref: "#/components/schemas/TimeWindow"
        maxWorkingDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        maxDistanceInKm:
          type: number
        breaks:
          items:
            $ref: "#/components/schemas/Break"
          type: array
        operationDurationPolicies:
          items:
            $ref: "#/components/schemas/OperationDurationPolicy"
          type: array
        travelTimeCoefficient:
          example: 1.05
          format: float
          type: number
      required:
      - id
      - vehicleProfile
      - workingTimeWindow
      type: object
    EnvelopedResource:
      example:
        item:
          cost: ""
          preferredStopTags:
          - access:parking33
          - capa:bat22
          - setup:france
          breaks:
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          travelTimeCoefficient: 1.05
          arrival:
            lon: 2.3269331
            lat: 48.8812658
          workingTimeWindow: ""
          priority: 0
          tags:
          - trailer
          skills:
          - forklift
          - truck
          maxWorkingDuration: ""
          operationDurationPolicies:
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          - stopTags:
            - access:parking33
            - capa:bat22
            - setup:france
            policy: withoutFirstOperationDuration
          vehicleProfile:
            kmph: 6.027456183070403
            type: fly
          capacities: ""
          id: ""
          state: ""
          departure: ""
          properties:
            key: properties
          maxDistanceInKm: 1.4658129805029452
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/Resource"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    ResourceMode:
      default: free
      enum:
      - free
      - fixed
      type: string
    Stop:
      oneOf:
      - $ref: "#/components/schemas/SingleStop"
      - $ref: "#/components/schemas/AlternativesStop"
    StopKind:
      default: delivery
      enum:
      - pickup
      - delivery
      - acknowledgement
      type: string
    SingleStop:
      example:
        kind: delivery
        operationDuration: ""
        preferredTimeWindows:
        - resourceTags:
          - subcontractorA
          - subcontractorB
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        - resourceTags:
          - subcontractorA
          - subcontractorB
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        authorizedTimeWindows:
        - resourceTags:
          - subcontractorA
          - subcontractorB
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        - resourceTags:
          - subcontractorA
          - subcontractorB
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        capacities: ""
        id: ""
        position: ""
        type: single
        properties:
          key: properties
        tags:
        - access:parking33
        - capa:bat22
        - setup:france
      properties:
        type:
          default: single
          enum:
          - single
          type: string
        id:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Single stop ids must be unique within a plan.
        properties:
          additionalProperties:
            type: string
          type: object
        tags:
          description: "prefix:suffix best practice, not forced."
          example:
          - access:parking33
          - capa:bat22
          - setup:france
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        position:
          allOf:
          - $ref: "#/components/schemas/Position"
        kind:
          $ref: "#/components/schemas/StopKind"
        operationDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        capacities:
          allOf:
          - $ref: "#/components/schemas/Capacities"
        authorizedTimeWindows:
          items:
            $ref: "#/components/schemas/TaggedTimeWindow"
          type: array
          uniqueItems: true
        preferredTimeWindows:
          items:
            $ref: "#/components/schemas/TaggedTimeWindow"
          type: array
          uniqueItems: true
      required:
      - id
      - position
      type: object
    AlternativesStop:
      description: A stop composed of different alternative single stops.
      properties:
        type:
          enum:
          - alternatives
          type: string
        alternatives:
          items:
            allOf:
            - $ref: "#/components/schemas/SingleStop"
          type: array
      required:
      - alternatives
      - type
      type: object
    Order:
      example:
        successiveStops: true
        maxStopSpan: ""
        optional: true
        requiredSkills:
        - forklift
        - truck
        id: ""
        stops:
        - kind: delivery
          operationDuration: ""
          preferredTimeWindows:
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          authorizedTimeWindows:
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          capacities: ""
          id: ""
          position: ""
          type: single
          properties:
            key: properties
          tags:
          - access:parking33
          - capa:bat22
          - setup:france
        - kind: delivery
          operationDuration: ""
          preferredTimeWindows:
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          authorizedTimeWindows:
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          - resourceTags:
            - subcontractorA
            - subcontractorB
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          capacities: ""
          id: ""
          position: ""
          type: single
          properties:
            key: properties
          tags:
          - access:parking33
          - capa:bat22
          - setup:france
        priority: 5
        properties:
          key: properties
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Order ids must be unique within a plan.
        properties:
          additionalProperties:
            type: string
          type: object
        priority:
          default: 0
          description: "0 by default, can be negative."
          type: integer
        optional:
          type: boolean
        requiredSkills:
          example:
          - forklift
          - truck
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        stops:
          items:
            $ref: "#/components/schemas/Stop"
          type: array
          uniqueItems: true
        successiveStops:
          type: boolean
        maxStopSpan:
          allOf:
          - $ref: "#/components/schemas/Duration"
      required:
      - id
      - stops
      type: object
    EnvelopedOrder:
      example:
        item:
          successiveStops: true
          maxStopSpan: ""
          optional: true
          requiredSkills:
          - forklift
          - truck
          id: ""
          stops:
          - kind: delivery
            operationDuration: ""
            preferredTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            authorizedTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            capacities: ""
            id: ""
            position: ""
            type: single
            properties:
              key: properties
            tags:
            - access:parking33
            - capa:bat22
            - setup:france
          - kind: delivery
            operationDuration: ""
            preferredTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            authorizedTimeWindows:
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            - resourceTags:
              - subcontractorA
              - subcontractorB
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            capacities: ""
            id: ""
            position: ""
            type: single
            properties:
              key: properties
            tags:
            - access:parking33
            - capa:bat22
            - setup:france
          priority: 5
          properties:
            key: properties
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/Order"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    SetupDuration:
      example:
        toStopTag: setup:belgium
        setupDuration: ""
        fromStopTag: setup:france
      properties:
        fromStopTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          example: setup:france
          type: string
        toStopTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          example: setup:belgium
          type: string
        setupDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
      required:
      - fromStopTag
      - setupDuration
      - toStopTag
      type: object
    GlobalConstraintMaxCumulatedCost:
      description: Provide an upper bound on the cost of specified resources.
      example:
        name: name
        maximum: 5.637376656633329
        type: maxCumulatedCost
        costsByResourceTag:
          key:
            costsByStopTag:
              key:
                costCoeff: 9.301444243932576
                constantCost: 2.3021358869347655
                overcostCoeff: 2.027123023002322
                costFloor: 7.061401241503109
                overcostFloor: 3.616076749251911
            km:
              costCoeff: 9.301444243932576
              constantCost: 2.3021358869347655
              overcostCoeff: 2.027123023002322
              costFloor: 7.061401241503109
              overcostFloor: 3.616076749251911
            using: 4.145608029883936
            costsByCapacity:
              key:
                stopTags:
                - warehouse
                - stop
            workedHours:
              costCoeff: 9.301444243932576
              constantCost: 2.3021358869347655
              overcostCoeff: 2.027123023002322
              costFloor: 7.061401241503109
              overcostFloor: 3.616076749251911
      properties:
        type:
          enum:
          - maxCumulatedCost
          type: string
        name:
          type: string
        maximum:
          type: number
        costsByResourceTag:
          additionalProperties:
            $ref: "#/components/schemas/Cost"
          type: object
      required:
      - costsByResourceTag
      - type
      type: object
    PlanObjectives:
      default:
      - maximizeMandatoryStops
      - minimizeDelay
      - minimizeCosts
      - minimizeResources
      - minimizeOverOverlappingCapacitiesOnStops
      - maximizeOptionalStops
      - maximizePreferredStops
      - minimizeWorkingDuration
      - minimizeDistance
      items:
        $ref: "#/components/schemas/PlanObjectives_inner"
      type: array
    ObjectivesEnum:
      enum:
      - maximizeMandatoryStops
      - minimizeDelay
      - minimizeCosts
      - minimizeResources
      - minimizeOverOverlappingCapacitiesOnStops
      - maximizeOptionalStops
      - maximizePreferredStops
      - minimizeLargestTourDuration
      - minimizeWorkingDuration
      - minimizeDistance
      type: string
    CostsByResourceTag:
      additionalProperties:
        $ref: "#/components/schemas/Cost"
      type: object
    CustomObjective:
      properties:
        type:
          enum:
          - custom
          type: string
        name:
          not:
            pattern: ^(maximizeMandatoryStops|minimizeDelay|minimizeCosts|minimizeResources|minimizeOverOverlappingCapacitiesOnStops|maximizeOptionalStops|maximizePreferredStops|minimizeLargestTourDuration|minimizeWorkingDuration|minimizeDistance)$
            type: string
          type: string
        direction:
          $ref: "#/components/schemas/OptimizationDirection"
        costsByResourceTag:
          additionalProperties:
            $ref: "#/components/schemas/Cost"
          type: object
      required:
      - costsByResourceTag
      - direction
      - name
      - type
      type: object
    OptimizationDirection:
      enum:
      - minimize
      - maximize
      type: string
    Duration:
      description: "A period of time, expressed in the ISO8601 **duration** format."
      example: PT4M
      pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
      type: string
    DateTime:
      description: "A full calendar date time, expressed in the ISO8601 **date** format:\
        \ YYYY-MM-DDThh:mm:ssZ."
      example: 2019-11-15T12:34:56Z
      type: string
    TimeZone:
      description: |
        The time zone is a string code which identifies a region of the world in the "time zone database", also called "tz database".
        The tz database is a partition of the world into regions where local clocks all show the same time.
        This database gives the rules for time offset and daylight saving time in each region.

        How do we use it?

        In order to work with time events accurately, we usually use datetimes in the iso-8601 format, without explicit time zone.
        This format is quite well suported by many programming languages, and it is well suited for technical data exchange.
        But it is not easy to use for humans.

        For instance, here are three datetimes in iso-8601 format, which give the same exact moment in time:
        - "2025-05-22T05:43:00Z"
        - "2025-05-22T06:43:00+01:00"
        - "2025-05-22T07:43:00+02:00"

        For a non-technical user, it is difficult to know how to relate this to the time displayed on a watch or a clock.

        We improve the user experience by adding the support of local datetimes, thanks to the use of the time zone,
        which allows to transform a local datetime into an iso-8601 datetime:
        - local datetime + timezone (tz) = iso-8601 datetime

        For instance, here are five datetimes which all give the same exact moment in time:
        - "2025-05-22T05:43:00Z"
        - "2025-05-22T06:43:00+01:00"
        - "2025-05-22T07:43:00+02:00"
        - "2025-05-22 07:43:00"       + timezone "tz": "Europe/Paris"
        - "2025-05-22 07:43"          + timezone "tz": "Europe/Paris"

        Note: the last example ("2025-05-22 07:43") illustrates the support of local datetimes without seconds,
        which can be very practical for users.

        In order for local datetimes to be supported, some JSON input objects contain a "tz" time zone property.
        This "tz" property is used to pre-process the JSON input payload, like this:
        - We check if a valid timezone can be extracted from the "tz" property,
        - If so, we perform the following actions:
          - Walk through the whole JSON content to look for local datetimes,
          - Use the timezone to transform each local datetime into an iso-8601 datetime.

        Important: some objects contain a "properties" sub-object, which is a map of custom client data;
        the content of the "properties" sub-objects is always excluded from the time zone pre-processing.
      example: Europe/Paris
      externalDocs:
        url: https://www.iana.org/time-zones
      type: string
    Position:
      example:
        lon: 2.3269331
        lat: 48.8812658
      properties:
        lon:
          maximum: 180
          minimum: -180
          type: number
        lat:
          maximum: 90
          minimum: -90
          type: number
      required:
      - lat
      - lon
      type: object
    FromPrevious:
      description: The travel distance and duration from the previous waypoint to
        the current one.
      example:
        travelDistanceInKm: 2.3269331
        travelDuration: PT4M
      properties:
        travelDistanceInKm:
          type: number
        travelDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
      required:
      - travelDistanceInKm
      - travelDuration
      type: object
    AtFirstPositionArrival:
      description: The resource must go back to it's Tour first position.
      enum:
      - atFirstPosition
      type: string
    Capacities:
      additionalProperties:
        type: number
      example:
        volume: 9.5
        weight: 2200
        nbPackages: 23
      type: object
    TaggedTimeWindow:
      description: TimeWindow with resource tags.
      example:
        resourceTags:
        - subcontractorA
        - subcontractorB
        end: 2019-11-15T12:34:56Z
        begin: 2019-11-15T12:34:56Z
      properties:
        begin:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        end:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        resourceTags:
          example:
          - subcontractorA
          - subcontractorB
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
      required:
      - begin
      - end
      type: object
    TimeWindow:
      example:
        end: 2019-11-15T12:34:56Z
        begin: 2019-11-15T12:34:56Z
      properties:
        begin:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        end:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      required:
      - begin
      - end
      type: object
    Break:
      oneOf:
      - $ref: "#/components/schemas/TimeWindowBreak"
      - $ref: "#/components/schemas/TravelDurationSlidingBreak"
      - $ref: "#/components/schemas/WorkingDurationSlidingBreak"
    TimeWindowBreak:
      description: A required break of a given duration in a given time window.
      example:
        duration: ""
        timeWindow: ""
        type: timeWindowBreak
      properties:
        type:
          enum:
          - timeWindowBreak
          type: string
        duration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        timeWindow:
          allOf:
          - $ref: "#/components/schemas/TimeWindow"
      required:
      - duration
      - timeWindow
      type: object
    TravelDurationSlidingBreak:
      description: Limitation rule on max travel duration without any break.
      properties:
        type:
          enum:
          - travelDurationSlidingBreak
          type: string
        minBreakDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        maxInterBreakDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
      required:
      - maxInterBreakDuration
      - minBreakDuration
      - type
      type: object
    WorkingDurationSlidingBreak:
      description: Limitation rule on max working duration without any break.
      properties:
        type:
          enum:
          - workingDurationSlidingBreak
          type: string
        minBreakDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        maxInterBreakDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
      required:
      - maxInterBreakDuration
      - minBreakDuration
      - type
      type: object
    OperationDurationPolicy:
      description: Policy to indicate which operation duration must not be taken into
        account.
      example:
        stopTags:
        - access:parking33
        - capa:bat22
        - setup:france
        policy: withoutFirstOperationDuration
      properties:
        policy:
          enum:
          - withoutFirstOperationDuration
          - withoutOperationDurations
          type: string
        stopTags:
          example:
          - access:parking33
          - capa:bat22
          - setup:france
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
      required:
      - policy
      type: object
    CountryCode:
      description: A country standard name or Alpha-2 code or Alpha-3 code.
      type: string
    CountryCodes:
      example:
      - Switzerland
      - BE
      - ITA
      items:
        $ref: "#/components/schemas/CountryCode"
      type: array
    VehicleProfileFly:
      example:
        kmph: 6.027456183070403
        type: fly
      properties:
        type:
          enum:
          - fly
          type: string
        kmph:
          type: number
      required:
      - type
      type: object
    VehicleProfilePedestrian:
      properties:
        type:
          enum:
          - pedestrian
          type: string
        excludedCountries:
          example:
          - Switzerland
          - BE
          - ITA
          items:
            $ref: "#/components/schemas/CountryCode"
          type: array
      type: object
    VehicleProfileBicycle:
      properties:
        type:
          enum:
          - bicycle
          type: string
        excludedCountries:
          example:
          - Switzerland
          - BE
          - ITA
          items:
            $ref: "#/components/schemas/CountryCode"
          type: array
      required:
      - type
      type: object
    VehicleProfileScooter:
      properties:
        type:
          enum:
          - scooter
          type: string
        excludedCountries:
          example:
          - Switzerland
          - BE
          - ITA
          items:
            $ref: "#/components/schemas/CountryCode"
          type: array
      required:
      - type
      type: object
    VehicleProfileMotorbike:
      properties:
        type:
          enum:
          - motorbike
          type: string
        excludedCountries:
          example:
          - Switzerland
          - BE
          - ITA
          items:
            $ref: "#/components/schemas/CountryCode"
          type: array
      required:
      - type
      type: object
    VehicleProfileCar:
      properties:
        type:
          enum:
          - car
          type: string
        withTraffic:
          type: boolean
        excludedCountries:
          example:
          - Switzerland
          - BE
          - ITA
          items:
            $ref: "#/components/schemas/CountryCode"
          type: array
      required:
      - type
      type: object
    VehicleProfileTruck:
      properties:
        type:
          enum:
          - truck
          type: string
        grossWeight:
          type: number
        withTraffic:
          type: boolean
        avoidTollRoad:
          type: boolean
        shippedHazardousGoods:
          example:
          - explosive
          - gas
          - flammable
          items:
            $ref: "#/components/schemas/ShippedHazardousGood"
          type: array
        excludedCountries:
          example:
          - Switzerland
          - BE
          - ITA
          items:
            $ref: "#/components/schemas/CountryCode"
          type: array
      required:
      - type
      type: object
    ShippedHazardousGood:
      enum:
      - explosive
      - gas
      - flammable
      - combustible
      - organic
      - poison
      - radioactive
      - corrosive
      - poisonousInhalation
      - harmfulToWater
      - other
      type: string
    TaggedCostFloorsAndCoeffs:
      allOf:
      - $ref: "#/components/schemas/CostFloorsAndCoeffs"
      example:
        stopTags:
        - warehouse
        - stop
      properties:
        stopTags:
          example:
          - warehouse
          - stop
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
      type: object
    CostFloorsAndCoeffs:
      description: "Cost floors and coefficients. A cost cannot be empty. An overcost\
        \ cannot be set if there is no cost, and the overcostFloor must be greater\
        \ than costFloor."
      example:
        costCoeff: 9.301444243932576
        constantCost: 2.3021358869347655
        overcostCoeff: 2.027123023002322
        costFloor: 7.061401241503109
        overcostFloor: 3.616076749251911
      properties:
        constantCost:
          type: number
        costFloor:
          type: number
        costCoeff:
          type: number
        overcostFloor:
          type: number
        overcostCoeff:
          type: number
      type: object
    Cost:
      example:
        costsByStopTag:
          key:
            costCoeff: 9.301444243932576
            constantCost: 2.3021358869347655
            overcostCoeff: 2.027123023002322
            costFloor: 7.061401241503109
            overcostFloor: 3.616076749251911
        km:
          costCoeff: 9.301444243932576
          constantCost: 2.3021358869347655
          overcostCoeff: 2.027123023002322
          costFloor: 7.061401241503109
          overcostFloor: 3.616076749251911
        using: 4.145608029883936
        costsByCapacity:
          key:
            stopTags:
            - warehouse
            - stop
        workedHours:
          costCoeff: 9.301444243932576
          constantCost: 2.3021358869347655
          overcostCoeff: 2.027123023002322
          costFloor: 7.061401241503109
          overcostFloor: 3.616076749251911
      properties:
        workedHours:
          $ref: "#/components/schemas/CostFloorsAndCoeffs"
        km:
          $ref: "#/components/schemas/CostFloorsAndCoeffs"
        using:
          type: number
        costsByStopTag:
          additionalProperties:
            $ref: "#/components/schemas/CostFloorsAndCoeffs"
          type: object
        costsByCapacity:
          additionalProperties:
            $ref: "#/components/schemas/TaggedCostFloorsAndCoeffs"
          type: object
      type: object
    State:
      example:
        mode: free
        assignments:
        - departureTime: 2019-11-15T12:34:56Z
          arrivalTime: 2019-11-15T12:34:56Z
          stopId: stopId
          beginTime: 2019-11-15T12:34:56Z
          type: stop
          status: fixed
        - departureTime: 2019-11-15T12:34:56Z
          arrivalTime: 2019-11-15T12:34:56Z
          stopId: stopId
          beginTime: 2019-11-15T12:34:56Z
          type: stop
          status: fixed
      properties:
        mode:
          $ref: "#/components/schemas/ResourceMode"
        assignments:
          items:
            $ref: "#/components/schemas/State_assignments_inner"
          type: array
      type: object
    EnvelopedState:
      example:
        item:
          mode: free
          assignments:
          - departureTime: 2019-11-15T12:34:56Z
            arrivalTime: 2019-11-15T12:34:56Z
            stopId: stopId
            beginTime: 2019-11-15T12:34:56Z
            type: stop
            status: fixed
          - departureTime: 2019-11-15T12:34:56Z
            arrivalTime: 2019-11-15T12:34:56Z
            stopId: stopId
            beginTime: 2019-11-15T12:34:56Z
            type: stop
            status: fixed
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/State"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    AssignmentStatus:
      default: fixed
      enum:
      - fixed
      - assigned
      type: string
    AssignmentStop:
      description: The beginTime is set to arrivalTime if not setted.
      example:
        departureTime: 2019-11-15T12:34:56Z
        arrivalTime: 2019-11-15T12:34:56Z
        stopId: stopId
        beginTime: 2019-11-15T12:34:56Z
        type: stop
        status: fixed
      properties:
        type:
          enum:
          - stop
          type: string
        status:
          $ref: "#/components/schemas/AssignmentStatus"
        stopId:
          description: "At least one character among those allowed: unaccented alpha-numeric\
            \ characters, \"-\", \".\", \"_\", \"~\", \":\", \"@\", \"!\", \"$\",\
            \ \",\"."
          pattern: "^[a-zA-Z0-9-._~:@!$,]+$"
          type: string
        arrivalTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        beginTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        departureTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      required:
      - arrivalTime
      - departureTime
      - stopId
      type: object
    AssignmentBegin:
      properties:
        type:
          enum:
          - begin
          type: string
        status:
          $ref: "#/components/schemas/AssignmentStatus"
        departureTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      required:
      - departureTime
      - type
      type: object
    AssignmentBreak:
      properties:
        type:
          enum:
          - break
          type: string
        status:
          $ref: "#/components/schemas/AssignmentStatus"
        arrivalTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        departureTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      required:
      - arrivalTime
      - departureTime
      - type
      type: object
    AssignmentEnd:
      properties:
        type:
          enum:
          - end
          type: string
        status:
          $ref: "#/components/schemas/AssignmentStatus"
        arrivalTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      required:
      - arrivalTime
      - type
      type: object
    ErrorProperties:
      additionalProperties:
        type: string
      type: object
    Error:
      example:
        code: code
        message: message
        properties:
          key: properties
      properties:
        code:
          type: string
        message:
          type: string
        properties:
          additionalProperties:
            type: string
          type: object
      readOnly: true
      required:
      - code
      - message
      type: object
    EnvelopedErrors:
      example:
        errors:
        - code: code
          message: message
          properties:
            key: properties
        - code: code
          message: message
          properties:
            key: properties
      properties:
        errors:
          items:
            $ref: "#/components/schemas/Error"
          type: array
      type: object
    Solution:
      example:
        unaffectedAlternativeIds:
        - unaffectedAlternativeIds
        - unaffectedAlternativeIds
        unaffectedStopIds:
        - unaffectedStopIds
        - unaffectedStopIds
        planVersion: 42
        unusedResourceIds:
        - unusedResourceIds
        - unusedResourceIds
        agencyId: LND_Agency-42
        planId: plan-AB
        objectives:
        - name: maximizeMandatoryStops
          priority: 1
          direction: maximize
          value: 232
        - name: minimizeDelay
          direction: minimize
          value: 3600
        - name: minimizeResources
          priority: 0
          direction: minimize
          value: 232
        - name: maximizeOptionalStops
          priority: 0
          direction: maximize
          value: 232
        - name: minimizeLargestTourDuration
          priority: 0
          direction: minimize
          value: 1000
        - name: minimizeWorkingDuration
          priority: 0
          direction: minimize
          value: 83430
        - name: minimizeDistance
          priority: 0
          direction: minimize
          value: 88232.4
        globalViolations:
        - exceededCost: 5.962133916683182
          name: name
          maximum: 1.4658129805029452
          type: maxCumulatedCost
          resourceIds:
          - resourceIds
          - resourceIds
        - exceededCost: 5.962133916683182
          name: name
          maximum: 1.4658129805029452
          type: maxCumulatedCost
          resourceIds:
          - resourceIds
          - resourceIds
        tours:
        - workingDuration: PT4M
          resourceId: resourceId
          waitingDuration: PT4M
          travelDuration: PT4M
          isValid: true
          violations:
          - wayPointIndex: 0
            type: begin
          - wayPointIndex: 0
            type: begin
          tourCost: 6.027456183070403
          filledCapacitiesAtEnd:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          totalDelay: ""
          distanceInKm: 0.8008281904610115
          mode: free
          maxFilledCapacities: ""
          filledCapacitiesAtBegin:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          vehicleProfile:
            kmph: 6.027456183070403
            type: fly
          wayPoints:
          - departureTime: 2019-11-15T12:34:56Z
            violations:
            - wayPointIndex: 0
              type: begin
            - wayPointIndex: 0
              type: begin
            fromPrevious:
              travelDistanceInKm: 2.3269331
              travelDuration: PT4M
            position:
              lon: 2.3269331
              lat: 48.8812658
            type: begin
            status: fixed
          - departureTime: 2019-11-15T12:34:56Z
            violations:
            - wayPointIndex: 0
              type: begin
            - wayPointIndex: 0
              type: begin
            fromPrevious:
              travelDistanceInKm: 2.3269331
              travelDuration: PT4M
            position:
              lon: 2.3269331
              lat: 48.8812658
            type: begin
            status: fixed
          resourceCapacities: ""
        - workingDuration: PT4M
          resourceId: resourceId
          waitingDuration: PT4M
          travelDuration: PT4M
          isValid: true
          violations:
          - wayPointIndex: 0
            type: begin
          - wayPointIndex: 0
            type: begin
          tourCost: 6.027456183070403
          filledCapacitiesAtEnd:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          totalDelay: ""
          distanceInKm: 0.8008281904610115
          mode: free
          maxFilledCapacities: ""
          filledCapacitiesAtBegin:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          vehicleProfile:
            kmph: 6.027456183070403
            type: fly
          wayPoints:
          - departureTime: 2019-11-15T12:34:56Z
            violations:
            - wayPointIndex: 0
              type: begin
            - wayPointIndex: 0
              type: begin
            fromPrevious:
              travelDistanceInKm: 2.3269331
              travelDuration: PT4M
            position:
              lon: 2.3269331
              lat: 48.8812658
            type: begin
            status: fixed
          - departureTime: 2019-11-15T12:34:56Z
            violations:
            - wayPointIndex: 0
              type: begin
            - wayPointIndex: 0
              type: begin
            fromPrevious:
              travelDistanceInKm: 2.3269331
              travelDuration: PT4M
            position:
              lon: 2.3269331
              lat: 48.8812658
            type: begin
            status: fixed
          resourceCapacities: ""
        totalDelay: ""
        timestamp: ""
      properties:
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
        timestamp:
          allOf:
          - $ref: "#/components/schemas/DateTime"
        unaffectedStopIds:
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        unaffectedAlternativeIds:
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        unusedResourceIds:
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        objectives:
          example:
          - name: maximizeMandatoryStops
            priority: 1
            direction: maximize
            value: 232
          - name: minimizeDelay
            direction: minimize
            value: 3600
          - name: minimizeResources
            priority: 0
            direction: minimize
            value: 232
          - name: maximizeOptionalStops
            priority: 0
            direction: maximize
            value: 232
          - name: minimizeLargestTourDuration
            priority: 0
            direction: minimize
            value: 1000
          - name: minimizeWorkingDuration
            priority: 0
            direction: minimize
            value: 83430
          - name: minimizeDistance
            priority: 0
            direction: minimize
            value: 88232.4
          items:
            $ref: "#/components/schemas/SolutionObjective"
          type: array
        tours:
          items:
            $ref: "#/components/schemas/Tour"
          type: array
          uniqueItems: true
        totalDelay:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: Total delay of the solution related to the preferred time windows.
        globalViolations:
          items:
            $ref: "#/components/schemas/Solution_globalViolations_inner"
          type: array
      readOnly: true
      type: object
    EnvelopedSolution:
      example:
        item:
          unaffectedAlternativeIds:
          - unaffectedAlternativeIds
          - unaffectedAlternativeIds
          unaffectedStopIds:
          - unaffectedStopIds
          - unaffectedStopIds
          planVersion: 42
          unusedResourceIds:
          - unusedResourceIds
          - unusedResourceIds
          agencyId: LND_Agency-42
          planId: plan-AB
          objectives:
          - name: maximizeMandatoryStops
            priority: 1
            direction: maximize
            value: 232
          - name: minimizeDelay
            direction: minimize
            value: 3600
          - name: minimizeResources
            priority: 0
            direction: minimize
            value: 232
          - name: maximizeOptionalStops
            priority: 0
            direction: maximize
            value: 232
          - name: minimizeLargestTourDuration
            priority: 0
            direction: minimize
            value: 1000
          - name: minimizeWorkingDuration
            priority: 0
            direction: minimize
            value: 83430
          - name: minimizeDistance
            priority: 0
            direction: minimize
            value: 88232.4
          globalViolations:
          - exceededCost: 5.962133916683182
            name: name
            maximum: 1.4658129805029452
            type: maxCumulatedCost
            resourceIds:
            - resourceIds
            - resourceIds
          - exceededCost: 5.962133916683182
            name: name
            maximum: 1.4658129805029452
            type: maxCumulatedCost
            resourceIds:
            - resourceIds
            - resourceIds
          tours:
          - workingDuration: PT4M
            resourceId: resourceId
            waitingDuration: PT4M
            travelDuration: PT4M
            isValid: true
            violations:
            - wayPointIndex: 0
              type: begin
            - wayPointIndex: 0
              type: begin
            tourCost: 6.027456183070403
            filledCapacitiesAtEnd:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            totalDelay: ""
            distanceInKm: 0.8008281904610115
            mode: free
            maxFilledCapacities: ""
            filledCapacitiesAtBegin:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            vehicleProfile:
              kmph: 6.027456183070403
              type: fly
            wayPoints:
            - departureTime: 2019-11-15T12:34:56Z
              violations:
              - wayPointIndex: 0
                type: begin
              - wayPointIndex: 0
                type: begin
              fromPrevious:
                travelDistanceInKm: 2.3269331
                travelDuration: PT4M
              position:
                lon: 2.3269331
                lat: 48.8812658
              type: begin
              status: fixed
            - departureTime: 2019-11-15T12:34:56Z
              violations:
              - wayPointIndex: 0
                type: begin
              - wayPointIndex: 0
                type: begin
              fromPrevious:
                travelDistanceInKm: 2.3269331
                travelDuration: PT4M
              position:
                lon: 2.3269331
                lat: 48.8812658
              type: begin
              status: fixed
            resourceCapacities: ""
          - workingDuration: PT4M
            resourceId: resourceId
            waitingDuration: PT4M
            travelDuration: PT4M
            isValid: true
            violations:
            - wayPointIndex: 0
              type: begin
            - wayPointIndex: 0
              type: begin
            tourCost: 6.027456183070403
            filledCapacitiesAtEnd:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            totalDelay: ""
            distanceInKm: 0.8008281904610115
            mode: free
            maxFilledCapacities: ""
            filledCapacitiesAtBegin:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            vehicleProfile:
              kmph: 6.027456183070403
              type: fly
            wayPoints:
            - departureTime: 2019-11-15T12:34:56Z
              violations:
              - wayPointIndex: 0
                type: begin
              - wayPointIndex: 0
                type: begin
              fromPrevious:
                travelDistanceInKm: 2.3269331
                travelDuration: PT4M
              position:
                lon: 2.3269331
                lat: 48.8812658
              type: begin
              status: fixed
            - departureTime: 2019-11-15T12:34:56Z
              violations:
              - wayPointIndex: 0
                type: begin
              - wayPointIndex: 0
                type: begin
              fromPrevious:
                travelDistanceInKm: 2.3269331
                travelDuration: PT4M
              position:
                lon: 2.3269331
                lat: 48.8812658
              type: begin
              status: fixed
            resourceCapacities: ""
          totalDelay: ""
          timestamp: ""
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/Solution"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    SolutionObjective:
      example:
        name: name
        priority: 0
        value: 6.027456183070403
        direction: minimize
      properties:
        name:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          type: string
        priority:
          type: integer
        direction:
          $ref: "#/components/schemas/OptimizationDirection"
        value:
          type: number
      type: object
    EnvelopedSolutionObjectives:
      example:
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
        items:
        - name: name
          priority: 0
          value: 6.027456183070403
          direction: minimize
        - name: name
          priority: 0
          value: 6.027456183070403
          direction: minimize
      properties:
        items:
          items:
            $ref: "#/components/schemas/SolutionObjective"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    Tour:
      example:
        workingDuration: PT4M
        resourceId: resourceId
        waitingDuration: PT4M
        travelDuration: PT4M
        isValid: true
        violations:
        - wayPointIndex: 0
          type: begin
        - wayPointIndex: 0
          type: begin
        tourCost: 6.027456183070403
        filledCapacitiesAtEnd:
          volume: 9.5
          weight: 2200
          nbPackages: 23
        totalDelay: ""
        distanceInKm: 0.8008281904610115
        mode: free
        maxFilledCapacities: ""
        filledCapacitiesAtBegin:
          volume: 9.5
          weight: 2200
          nbPackages: 23
        vehicleProfile:
          kmph: 6.027456183070403
          type: fly
        wayPoints:
        - departureTime: 2019-11-15T12:34:56Z
          violations:
          - wayPointIndex: 0
            type: begin
          - wayPointIndex: 0
            type: begin
          fromPrevious:
            travelDistanceInKm: 2.3269331
            travelDuration: PT4M
          position:
            lon: 2.3269331
            lat: 48.8812658
          type: begin
          status: fixed
        - departureTime: 2019-11-15T12:34:56Z
          violations:
          - wayPointIndex: 0
            type: begin
          - wayPointIndex: 0
            type: begin
          fromPrevious:
            travelDistanceInKm: 2.3269331
            travelDuration: PT4M
          position:
            lon: 2.3269331
            lat: 48.8812658
          type: begin
          status: fixed
        resourceCapacities: ""
      properties:
        resourceId:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          type: string
        mode:
          $ref: "#/components/schemas/ResourceMode"
        distanceInKm:
          type: number
        tourCost:
          type: number
        totalDelay:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: Total delay of the tour related to the preferred time windows.
        travelDuration:
          description: "A period of time, expressed in the ISO8601 **duration** format."
          example: PT4M
          pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
          type: string
        workingDuration:
          description: "A period of time, expressed in the ISO8601 **duration** format."
          example: PT4M
          pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
          type: string
        waitingDuration:
          description: "A period of time, expressed in the ISO8601 **duration** format."
          example: PT4M
          pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
          type: string
        resourceCapacities:
          allOf:
          - $ref: "#/components/schemas/Capacities"
          description: List of capacities and associated quantity for which the resource
            has a restriction on the quantity to be carried at each stop during the
            tour.
        maxFilledCapacities:
          allOf:
          - $ref: "#/components/schemas/Capacities"
          description: "List of each capacity transported by the resource, as well\
            \ as the maximum quantity reached for this capacity at a stop during the\
            \ tour."
        filledCapacitiesAtBegin:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
        filledCapacitiesAtEnd:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
        isValid:
          description: Indicates whether the tour satisfies all resource constraints.
          type: boolean
        violations:
          description: List of the Tour's violations.
          items:
            $ref: "#/components/schemas/TourViolation"
          type: array
        wayPoints:
          items:
            $ref: "#/components/schemas/Tour_wayPoints_inner"
          type: array
        vehicleProfile:
          $ref: "#/components/schemas/Resource_vehicleProfile"
      type: object
    GlobalViolationMaxCumulatedCost:
      description: Violation linked to a MaxCumulatedCost global constraint.
      example:
        exceededCost: 5.962133916683182
        name: name
        maximum: 1.4658129805029452
        type: maxCumulatedCost
        resourceIds:
        - resourceIds
        - resourceIds
      properties:
        type:
          enum:
          - maxCumulatedCost
          type: string
        name:
          type: string
        resourceIds:
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
          uniqueItems: true
        maximum:
          type: number
        exceededCost:
          type: number
      type: object
    TourViolation:
      description: "Semantic violations, can be handled \"generically\" or specifically."
      oneOf:
      - $ref: "#/components/schemas/BeginViolation"
      - $ref: "#/components/schemas/EndViolation"
      - $ref: "#/components/schemas/SkillsViolation"
      - $ref: "#/components/schemas/ForbiddenAssignmentViolation"
      - $ref: "#/components/schemas/AuthorizedTimeWindowViolation"
      - $ref: "#/components/schemas/CapacityViolation"
      - $ref: "#/components/schemas/AtLeastOneValidCapacityViolation"
      - $ref: "#/components/schemas/SuccessiveStopsViolation"
      - $ref: "#/components/schemas/OrderViolation"
      - $ref: "#/components/schemas/MaxStopSpanViolation"
      - $ref: "#/components/schemas/WorkingTimeWindowViolation"
      - $ref: "#/components/schemas/MaxWorkingDurationViolation"
      - $ref: "#/components/schemas/MaxDistanceInKmViolation"
      - $ref: "#/components/schemas/StopIncompatibilityViolation"
      - $ref: "#/components/schemas/AtLeastOneConstraintViolation"
      - $ref: "#/components/schemas/MaxStopTagGroupsViolation"
      - $ref: "#/components/schemas/RemovalStrategyViolation"
    WaypointViolation:
      description: "Semantic violations, can be handled \"generically\" or specifically."
      oneOf:
      - $ref: "#/components/schemas/BeginViolation"
      - $ref: "#/components/schemas/EndViolation"
      - $ref: "#/components/schemas/SkillsViolation"
      - $ref: "#/components/schemas/ForbiddenAssignmentViolation"
      - $ref: "#/components/schemas/AuthorizedTimeWindowViolation"
      - $ref: "#/components/schemas/CapacityViolation"
      - $ref: "#/components/schemas/AtLeastOneValidCapacityViolation"
    BeginViolation:
      description: Violation of a warehouse Constraint at the begining of a Tour.
      example:
        wayPointIndex: 0
        type: begin
      properties:
        type:
          description: The violation's type.
          enum:
          - begin
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
      required:
      - type
      type: object
    EndViolation:
      description: Violation of a warehouse Constraint at the end of a Tour.
      properties:
        type:
          enum:
          - end
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
      required:
      - type
      type: object
    SkillsViolation:
      description: Violation of a Skill constraint.
      properties:
        type:
          enum:
          - skills
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
        lackingSkills:
          description: The list of skills needed to do the waypoint that the resource
            lacks.
          example:
          - forklift
          - truck
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
      required:
      - type
      type: object
    ForbiddenAssignmentViolation:
      description: Violation of a ForbiddenAssignment constraint.
      properties:
        type:
          enum:
          - forbiddenAssignment
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
        forbiddenAssignments:
          description: The list of forbidden assignments that are violated with the
            waypoint assigned to the resource.
          items:
            $ref: "#/components/schemas/ForbiddenAssignment"
          type: array
      required:
      - type
      type: object
    AuthorizedTimeWindowViolation:
      description: Violation of a stop's TimeWindow constraint.
      properties:
        type:
          enum:
          - authorizedTimeWindow
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
        forbiddenWindow:
          allOf:
          - $ref: "#/components/schemas/TimeWindow"
          description: The violated forbidden window.
        actualTime:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The time at which the waypoint is actually executed.
      required:
      - actualTime
      - forbiddenWindow
      - type
      type: object
    CapacityViolation:
      description: Violation of a resource's capacity constraint.
      properties:
        type:
          enum:
          - capacity
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
        capacity:
          description: The capacity's name the constraint is linked to.
          type: string
        overCapacity:
          description: The exceeding capacity.
          type: number
      required:
      - capacity
      - overCapacity
      - type
      type: object
    AtLeastOneValidCapacityViolation:
      description: Violation of a AtLeastOneValidCapacity constraint.
      properties:
        type:
          enum:
          - atLeastOneValidCapacity
          type: string
        wayPointIndex:
          description: The idx of the waypoint the violation applies to.
          example: 0
          type: integer
        name:
          description: The name of the AtLeastOneValidCapacity constraint the violation
            is linked to.
          type: string
        overCapacities:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
      required:
      - name
      - overCapacities
      - type
      type: object
    SuccessiveStopsViolation:
      description: Violation of a order's succesive stops constraint.
      properties:
        type:
          enum:
          - successiveStops
          type: string
        expectedSuccessiveStopIds:
          description: The stop ids in the expected order.
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
        interleavedStopIds:
          description: The stop ids which are not expected and interleaved between
            the order stops.
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
      required:
      - expectedSuccessiveStopIds
      - type
      type: object
    OrderViolation:
      description: Violation of a order's stops constraint.
      properties:
        type:
          enum:
          - order
          type: string
        expectedOrderedStopIds:
          description: The stop ids in the expected order.
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
        missedStopIds:
          description: The stop ids missing from the tour.
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
        badlyOrderedStopIds:
          description: The stop ids badly ordered in the tour.
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
      required:
      - expectedOrderedStopIds
      - type
      type: object
    MaxStopSpanViolation:
      description: Violation of a order's MaxStopSpan constraint.
      properties:
        type:
          enum:
          - maxStopSpan
          type: string
        orderId:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: The order id with the MaxStopSpan constraint violation.
          type: string
        delay:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: The delay that exceeds the MaxStopSpan.
      required:
      - delay
      - orderId
      - type
      type: object
    WorkingTimeWindowViolation:
      description: Violation of a resource's TimeWindow constraint.
      properties:
        type:
          enum:
          - workingTimeWindow
          type: string
        delay:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: The delay that exceeds the resource's TimeWindow.
      required:
      - delay
      - type
      type: object
    MaxWorkingDurationViolation:
      description: Violation of a resource's MaxWorkingDuration constraint.
      properties:
        type:
          enum:
          - maxWorkingDuration
          type: string
        maxWorkingDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: The expected maximum working duration.
        exceededDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: The duration that exceeds the maximum working duration.
      required:
      - exceededDuration
      - maxWorkingDuration
      - type
      type: object
    MaxDistanceInKmViolation:
      description: Violation of a resource's MaxDistanceInKm constraint.
      properties:
        type:
          enum:
          - maxDistanceInKm
          type: string
        maxDistanceInKm:
          description: "The expected maximum distance, in km."
          type: number
        exceededDistanceInKm:
          description: "The distance that exceeds the maximum distance, in km."
          type: number
      required:
      - exceededDistanceInKm
      - maxDistanceInKm
      - type
      type: object
    StopIncompatibilityViolation:
      description: Violation of a resource's StopIncompatibility constraint.
      properties:
        type:
          enum:
          - stopIncompatibility
          type: string
        name:
          description: The name of the StopIncompatibility constraint the violation
            is linked to.
          type: string
        incompatibilities:
          description: Lists of stop ids for each incompatible tag.
          items:
            items:
              allOf:
              - $ref: "#/components/schemas/RegexIdValidation"
              example:
              - stop1
              - stop2
            maxItems: 2
            minItems: 2
            type: array
          type: array
        tags:
          description: A pair of incompatible stop tags.
          example:
          - goat
          - cabbage
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            description: Stop tag.
          maxItems: 2
          minItems: 2
          type: array
          uniqueItems: true
      required:
      - incompatibilities
      - tags
      - type
      type: object
    AtLeastOneConstraintViolation:
      description: Violation of a resource's AtLeastOneConstraint constraint.
      properties:
        type:
          enum:
          - atLeastOneConstraint
          type: string
        name:
          description: The name of the AtLeastOneConstraint constraint the violation
            is linked to.
          type: string
        violatedConstraints:
          description: Lists of sub-constraints violations.
          items:
            allOf:
            - $ref: "#/components/schemas/TourViolation"
          type: array
      required:
      - name
      - type
      - violatedConstraints
      type: object
    MaxStopTagGroupsViolation:
      description: Violation of a resource's MaxStopTagGroups constraint.
      properties:
        type:
          enum:
          - maxStopTagGroups
          type: string
        name:
          description: The name of the MaxStopTagGroups constraint the violation is
            linked to.
          type: string
        exceededNbGroupsByStopTag:
          additionalProperties:
            $ref: "#/components/schemas/ExceededNbGroups"
          description: The exceeded number of groups by stop tag.
          type: object
      required:
      - exceededNbGroupsByStopTag
      - type
      type: object
    ExceededNbGroups:
      description: "The maximum number of groups and its corresponding exceeding number\
        \ of groups, for a stop tag."
      properties:
        maxAllowed:
          description: Maximum number of groups allowed.
          example: 2
          minimum: 0
          type: integer
        exceededNbGroups:
          description: Number of groups that exceeds the maximum number allowed.
          example: 2
          minimum: 1
          type: integer
      required:
      - exceededNbGroups
      - maxAllowed
      type: object
    RemovalStrategyViolation:
      description: Violation of a resource's RemovalStrategy constraint.
      properties:
        type:
          enum:
          - removalStrategy
          type: string
        name:
          description: The name of the RemovalStrategy constraint the violation is
            linked to.
          type: string
        removalStrategyType:
          allOf:
          - $ref: "#/components/schemas/RemovalStrategyType"
      required:
      - removalStrategyType
      - type
      type: object
    RemovalStrategyType:
      default: lifo
      enum:
      - lifo
      type: string
    WayPointStatus:
      default: fixed
      enum:
      - fixed
      - assigned
      - optimized
      type: string
    WayPointBegin:
      example:
        departureTime: 2019-11-15T12:34:56Z
        violations:
        - wayPointIndex: 0
          type: begin
        - wayPointIndex: 0
          type: begin
        fromPrevious:
          travelDistanceInKm: 2.3269331
          travelDuration: PT4M
        position:
          lon: 2.3269331
          lat: 48.8812658
        type: begin
        status: fixed
      properties:
        type:
          enum:
          - begin
          type: string
        position:
          $ref: "#/components/schemas/Position"
        status:
          allOf:
          - $ref: "#/components/schemas/WayPointStatus"
          example: fixed
        departureTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        violations:
          description: List of the Waypoint's violations.
          items:
            $ref: "#/components/schemas/WaypointViolation"
          type: array
        fromPrevious:
          $ref: "#/components/schemas/FromPrevious"
      required:
      - position
      - type
      type: object
    WayPointStop:
      properties:
        type:
          enum:
          - stop
          type: string
        stopId:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          type: string
        position:
          $ref: "#/components/schemas/Position"
        status:
          allOf:
          - $ref: "#/components/schemas/WayPointStatus"
          example: optimized
        stopProperties:
          additionalProperties:
            type: string
          type: object
        orderProperties:
          additionalProperties:
            type: string
          type: object
        filledCapacitiesAfterStop:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
        delay:
          allOf:
          - $ref: "#/components/schemas/Duration"
          description: Delay related to the stop's preferred time windows.
        arrivalTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        beginTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        departureTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        violations:
          description: List of the Waypoint's violations.
          items:
            $ref: "#/components/schemas/WaypointViolation"
          type: array
        fromPrevious:
          $ref: "#/components/schemas/FromPrevious"
        stopKind:
          $ref: "#/components/schemas/StopKind"
      required:
      - position
      - type
      type: object
    WayPointBreak:
      properties:
        type:
          enum:
          - break
          type: string
        status:
          allOf:
          - $ref: "#/components/schemas/WayPointStatus"
          example: optimized
        arrivalTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        departureTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        violations:
          description: List of the Waypoint's violations.
          items:
            $ref: "#/components/schemas/WaypointViolation"
          type: array
        fromPrevious:
          $ref: "#/components/schemas/FromPrevious"
      required:
      - type
      type: object
    WayPointEnd:
      properties:
        type:
          enum:
          - end
          type: string
        position:
          $ref: "#/components/schemas/Position"
        status:
          allOf:
          - $ref: "#/components/schemas/WayPointStatus"
          example: optimized
        arrivalTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        violations:
          description: List of the Waypoint's violations.
          items:
            $ref: "#/components/schemas/WaypointViolation"
          type: array
        fromPrevious:
          $ref: "#/components/schemas/FromPrevious"
      required:
      - position
      - type
      type: object
    AdditionalConstraintIncompatibleStopTags:
      description: Incompatibility between stop tags.
      properties:
        type:
          enum:
          - incompatibleStopTags
          type: string
        name:
          type: string
        stopTags:
          description: A pair of incompatible stop tags.
          example:
          - goat
          - cabbage
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            description: Stop tag.
          maxItems: 2
          minItems: 2
          type: array
          uniqueItems: true
        resourceTags:
          example:
          - subcontractorA
          - subcontractorB
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
      required:
      - stopTags
      - type
      type: object
    AdditionalConstraintForbiddenAssignment:
      description: Forbidden assignment by stop tag and resource tag.
      properties:
        type:
          enum:
          - forbiddenAssignment
          type: string
        name:
          type: string
        resourceTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Resource tag.
          example: trailer
          type: string
        stopTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Stop tag.
          example: heavy
          type: string
      required:
      - resourceTag
      - stopTag
      - type
      type: object
    AdditionalConstraintAtLeastOneValidCapacity:
      description: "If the tour has not, at each stop, one of its capacities lower\
        \ than or equal to the link limit, then the tour is invalid."
      example:
        resourceTags:
        - subcontractorA
        - subcontractorB
        name: name
        capacities:
          volume: 9.5
          weight: 2200
          nbPackages: 23
        type: atLeastOneValidCapacity
      properties:
        type:
          enum:
          - atLeastOneValidCapacity
          type: string
        name:
          type: string
        capacities:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
        resourceTags:
          example:
          - subcontractorA
          - subcontractorB
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
      required:
      - capacities
      - type
      type: object
    AdditionalConstraintAtLeastOneConstraint:
      description: "If one of the constraint is valid, then the tour is valid."
      properties:
        type:
          enum:
          - atLeastOneConstraint
          type: string
        name:
          type: string
        constraints:
          items:
            $ref: "#/components/schemas/Plan_additionalConstraints_inner"
          type: array
      required:
      - constraints
      - type
      type: object
    AdditionalConstraintCapacities:
      description: This constraint is valid if all the capacities are satisfied.
      properties:
        type:
          enum:
          - capacities
          type: string
        name:
          type: string
        capacities:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
        resourceTag:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          type: string
      required:
      - capacities
      - resourceTag
      - type
      type: object
    AdditionalConstraintMaxStopTagGroups:
      description: "If the tour has stops whose stopTags constitute too many groups,\
        \ then the tour is invalid."
      properties:
        type:
          enum:
          - maxStopTagGroups
          type: string
        name:
          type: string
        resourceTags:
          example:
          - subcontractorA
          - subcontractorB
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
        maxGroupsByStopTag:
          additionalProperties:
            type: integer
          example:
            depot: 2
            delivery: 10
          type: object
      required:
      - maxGroupsByStopTag
      - type
      type: object
    MaxGroupsByStopTag:
      additionalProperties:
        type: integer
      example:
        depot: 2
        delivery: 10
      type: object
    AdditionalConstraintRemovalStrategy:
      description: "If the tour does not respect the defined removal strategy, then\
        \ the tour is invalid."
      properties:
        type:
          enum:
          - removalStrategy
          type: string
        name:
          type: string
        resourceTags:
          example:
          - subcontractorA
          - subcontractorB
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
        capacities:
          example:
          - volume
          - length
          items:
            allOf:
            - $ref: "#/components/schemas/RegexIdValidation"
            type: string
          type: array
        removalStrategy:
          allOf:
          - $ref: "#/components/schemas/RemovalStrategyType"
          example: lifo
          type: string
      required:
      - type
      type: object
    Paging:
      example:
        total: 142
        previousPage: 1
        nextPage: 3
        itemsPerPage: 30
        totalPages: 5
        page: 2
      properties:
        total:
          description: The total number of items in the requested collection.
          example: 142
          readOnly: true
          type: integer
        totalPages:
          description: The total number of pages in the requested collection.
          example: 5
          readOnly: true
          type: integer
        page:
          description: The current page of items.
          example: 2
          readOnly: true
          type: integer
        nextPage:
          description: The next available page of items.
          example: 3
          nullable: true
          readOnly: true
          type: integer
        previousPage:
          description: The previous page of items.
          example: 1
          nullable: true
          readOnly: true
          type: integer
        itemsPerPage:
          default: 20
          description: "The number of items per page, set internally or by the request."
          example: 30
          maximum: 100
          readOnly: true
          type: integer
      type: object
    ScoredTimeWindow:
      example:
        timeWindow:
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        resourceId: resourceId
        solutionTimestamp: ""
        planVersion: 42
        planId: plan-AB
        objectives:
        - name: name
          priority: 0
          value: 6.027456183070403
          direction: minimize
        - name: name
          priority: 0
          value: 6.027456183070403
          direction: minimize
        beginTime: 2019-11-15T12:34:56Z
        initialObjectives:
        - name: name
          priority: 0
          value: 6.027456183070403
          direction: minimize
        - name: name
          priority: 0
          value: 6.027456183070403
          direction: minimize
      properties:
        timeWindow:
          $ref: "#/components/schemas/TimeWindow"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
        objectives:
          items:
            $ref: "#/components/schemas/SolutionObjective"
          type: array
          uniqueItems: true
        initialObjectives:
          items:
            $ref: "#/components/schemas/SolutionObjective"
          type: array
          uniqueItems: true
        solutionTimestamp:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          nullable: true
        resourceId:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          type: string
        beginTime:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      required:
      - objectives
      - timeWindow
      type: object
    SMAOrder:
      allOf:
      - $ref: "#/components/schemas/Order"
      - properties:
          stops:
            items:
              $ref: "#/components/schemas/Stop"
            maxItems: 1
            minItems: 1
            type: array
        type: object
      example:
        successiveStops: true
        maxStopSpan: ""
        optional: true
        requiredSkills:
        - forklift
        - truck
        id: ""
        stops:
        - null
        priority: 0
        properties:
          key: properties
    SMAInput:
      example:
        timeWindows:
        - end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        - end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        tz: Europe/Paris
        maxNbPropositions: 154
        order:
          successiveStops: true
          maxStopSpan: ""
          optional: true
          requiredSkills:
          - forklift
          - truck
          id: ""
          stops:
          - null
          priority: 0
          properties:
            key: properties
      properties:
        order:
          $ref: "#/components/schemas/SMAOrder"
        maxNbPropositions:
          maximum: 255
          minimum: 1
          nullable: true
          type: integer
        timeWindows:
          items:
            $ref: "#/components/schemas/TimeWindow"
          minItems: 1
          type: array
          uniqueItems: true
        tz:
          description: |
            The time zone is a string code which identifies a region of the world in the "time zone database", also called "tz database".
            The tz database is a partition of the world into regions where local clocks all show the same time.
            This database gives the rules for time offset and daylight saving time in each region.

            How do we use it?

            In order to work with time events accurately, we usually use datetimes in the iso-8601 format, without explicit time zone.
            This format is quite well suported by many programming languages, and it is well suited for technical data exchange.
            But it is not easy to use for humans.

            For instance, here are three datetimes in iso-8601 format, which give the same exact moment in time:
            - "2025-05-22T05:43:00Z"
            - "2025-05-22T06:43:00+01:00"
            - "2025-05-22T07:43:00+02:00"

            For a non-technical user, it is difficult to know how to relate this to the time displayed on a watch or a clock.

            We improve the user experience by adding the support of local datetimes, thanks to the use of the time zone,
            which allows to transform a local datetime into an iso-8601 datetime:
            - local datetime + timezone (tz) = iso-8601 datetime

            For instance, here are five datetimes which all give the same exact moment in time:
            - "2025-05-22T05:43:00Z"
            - "2025-05-22T06:43:00+01:00"
            - "2025-05-22T07:43:00+02:00"
            - "2025-05-22 07:43:00"       + timezone "tz": "Europe/Paris"
            - "2025-05-22 07:43"          + timezone "tz": "Europe/Paris"

            Note: the last example ("2025-05-22 07:43") illustrates the support of local datetimes without seconds,
            which can be very practical for users.

            In order for local datetimes to be supported, some JSON input objects contain a "tz" time zone property.
            This "tz" property is used to pre-process the JSON input payload, like this:
            - We check if a valid timezone can be extracted from the "tz" property,
            - If so, we perform the following actions:
              - Walk through the whole JSON content to look for local datetimes,
              - Use the timezone to transform each local datetime into an iso-8601 datetime.

            Important: some objects contain a "properties" sub-object, which is a map of custom client data;
            the content of the "properties" sub-objects is always excluded from the time zone pre-processing.
          example: Europe/Paris
          externalDocs:
            url: https://www.iana.org/time-zones
          type: string
      required:
      - order
      - timeWindows
      type: object
    SMAMultiPlanInput:
      allOf:
      - $ref: "#/components/schemas/SMAInput"
      - properties:
          planIds:
            example:
            - plan-a
            - plan-b
            - plan-c
            items:
              type: string
            type: array
            uniqueItems: true
        type: object
      example:
        planIds:
        - plan-a
        - plan-b
        - plan-c
        timeWindows:
        - end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        - end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        tz: Europe/Paris
        maxNbPropositions: 21
        order:
          successiveStops: true
          maxStopSpan: ""
          optional: true
          requiredSkills:
          - forklift
          - truck
          id: ""
          stops:
          - null
          priority: 0
          properties:
            key: properties
      required:
      - order
      - planIds
      - timeWindows
    EnvelopedSMAOutput:
      example:
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
        items:
        - timeWindow:
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          resourceId: resourceId
          solutionTimestamp: ""
          planVersion: 42
          planId: plan-AB
          objectives:
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
          beginTime: 2019-11-15T12:34:56Z
          initialObjectives:
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
        - timeWindow:
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          resourceId: resourceId
          solutionTimestamp: ""
          planVersion: 42
          planId: plan-AB
          objectives:
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
          beginTime: 2019-11-15T12:34:56Z
          initialObjectives:
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
          - name: name
            priority: 0
            value: 6.027456183070403
            direction: minimize
      properties:
        items:
          items:
            $ref: "#/components/schemas/ScoredTimeWindow"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    OTPType:
      default: none
      description: Type of OTP (One-Time Password).
      enum:
      - none
      - email
      - sms
      - totp
      example: sms
      type: string
    EnvelopedOTPType:
      example:
        item: sms
      properties:
        item:
          $ref: "#/components/schemas/OTPType"
      type: object
    OTPValue:
      description: A 6-digits OTP code.
      example: "403852"
      type: string
    PhoneNumber:
      description: "Phone number in E.164 international format (e.g., +33612345678)."
      example: "+33612345678"
      pattern: "^\\+[1-9]\\d{1,14}$"
      type: string
    ObfuscatedPhoneNumber:
      description: An obfuscated representation of the phone number used for MFA
      example: +336*******8
      nullable: true
      type: string
    TOTPConfig:
      nullable: true
      properties:
        secret:
          description: A 32-characters secret code.
          example: J5GEMOCTHFLDER22JU3DIRKDJJMEOOJZ
          type: string
        url:
          description: The TOTP auth protocol url.
          example: otpauth://totp/Kardinal:foobar?algorithm=SHA1&digits=6&issuer=Kardinal&period=30&secret=J5GEMOCTHFLDER22JU3DIRKDJJMEOOJZ
          type: string
      type: object
    BackupCode:
      description: A unique 16-characters backup code.
      example: E0ZE97NY1Z6WAW1L
      maxLength: 16
      minLength: 16
      type: string
    BackupCodes:
      description: A list of 10 unique 16-characters backup codes.
      example:
      - E0ZE97NY1Z6WAW1L
      - 064M3TCQTR5B2Q74
      - 6BMR618ZH8CJ1WM5
      - 8ERR9CPIUL6FWB95
      - I8I09DQL5KHRS06A
      - NEGSE5TJGXCV2Z2G
      - 3XHWOE9DXL1YLKW1
      - VKWE0RN8RO3WXSMR
      - VV7U19AF4X1NSE83
      - V5DT0YG81DRXISEY
      items:
        $ref: "#/components/schemas/BackupCode"
      maxItems: 10
      minItems: 10
      type: array
    EnvelopedBackupCodes:
      example:
        items:
        - E0ZE97NY1Z6WAW1L
        - 064M3TCQTR5B2Q74
        - 6BMR618ZH8CJ1WM5
        - 8ERR9CPIUL6FWB95
        - I8I09DQL5KHRS06A
        - NEGSE5TJGXCV2Z2G
        - 3XHWOE9DXL1YLKW1
        - VKWE0RN8RO3WXSMR
        - VV7U19AF4X1NSE83
        - V5DT0YG81DRXISEY
      properties:
        items:
          description: A list of 10 unique 16-characters backup codes.
          example:
          - E0ZE97NY1Z6WAW1L
          - 064M3TCQTR5B2Q74
          - 6BMR618ZH8CJ1WM5
          - 8ERR9CPIUL6FWB95
          - I8I09DQL5KHRS06A
          - NEGSE5TJGXCV2Z2G
          - 3XHWOE9DXL1YLKW1
          - VKWE0RN8RO3WXSMR
          - VV7U19AF4X1NSE83
          - V5DT0YG81DRXISEY
          items:
            $ref: "#/components/schemas/BackupCode"
          maxItems: 10
          minItems: 10
          type: array
      type: object
    MFAConfig:
      example:
        preferredType: sms
        phoneNumber: +336*******8
        totpConfig: ""
        backupCodes: ""
        availableTypes:
        - email
        - sms
        - totp
        email: em***********.com
        updatedAt: ""
      properties:
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The config's last update date.
          nullable: false
          readOnly: true
        preferredType:
          $ref: "#/components/schemas/OTPType"
        availableTypes:
          description: The list of OTP types which have been configured by the actor
            in his MFA configuration.
          example:
          - email
          - sms
          - totp
          items:
            $ref: "#/components/schemas/OTPType"
          readOnly: true
          type: array
        email:
          description: An obfuscated representation of the email used for MFA.
          example: em***********.com
          nullable: true
          type: string
        phoneNumber:
          description: An obfuscated representation of the phone number used for MFA
          example: +336*******8
          nullable: true
          type: string
        totpConfig:
          allOf:
          - $ref: "#/components/schemas/TOTPConfig"
          nullable: true
          readOnly: true
        backupCodes:
          allOf:
          - $ref: "#/components/schemas/BackupCodes"
          nullable: true
          readOnly: true
      type: object
    EnvelopedMFAConfig:
      example:
        item:
          preferredType: sms
          phoneNumber: +336*******8
          totpConfig: ""
          backupCodes: ""
          availableTypes:
          - email
          - sms
          - totp
          email: em***********.com
          updatedAt: ""
      properties:
        item:
          $ref: "#/components/schemas/MFAConfig"
      type: object
    MFAConfigRegenerateBackupCodes:
      description: A request to regenerate the MFA's backup codes.
      example:
        password: {}
      properties:
        password:
          $ref: "#/components/schemas/Password"
      required:
      - password
      type: object
    MFAConfigRequestEmail:
      description: A request to update or disable the OTP type "email" in the user's
        MFA configuration.
      properties:
        otpType:
          enum:
          - email
          type: string
        email:
          description: A valid email address.
          example: martin.dupont@kardinal.ai
          format: email
          type: string
        password:
          $ref: "#/components/schemas/Password"
      required:
      - email
      - otpType
      - password
      type: object
    MFAConfigRequestSMS:
      description: A request to update or disable the OTP type "sms" in the user's
        MFA configuration.
      properties:
        otpType:
          enum:
          - sms
          type: string
        phoneNumber:
          description: "Phone number in E.164 international format (e.g., +33612345678)."
          example: "+33612345678"
          pattern: "^\\+[1-9]\\d{1,14}$"
          type: string
        password:
          $ref: "#/components/schemas/Password"
      required:
      - otpType
      - password
      - phoneNumber
      type: object
    MFAConfigRequestTOTP:
      description: A request to update or disable the OTP type "totp" in the user's
        MFA configuration.
      properties:
        otpType:
          enum:
          - totp
          type: string
        password:
          $ref: "#/components/schemas/Password"
      required:
      - otpType
      - password
      type: object
    MFAConfigResendEmail:
      description: A request to resend the OTP code for the OTP type "email" during
        the user's MFA configuration.
      properties:
        otpType:
          enum:
          - email
          type: string
        email:
          description: A valid email address.
          example: martin.dupont@kardinal.ai
          format: email
          type: string
      required:
      - email
      - otpType
      type: object
    MFAConfigResendSMS:
      description: A request to resend the OTP code for the OTP type "sms" during
        the user's MFA configuration.
      properties:
        otpType:
          enum:
          - sms
          type: string
        phoneNumber:
          description: "Phone number in E.164 international format (e.g., +33612345678)."
          example: "+33612345678"
          pattern: "^\\+[1-9]\\d{1,14}$"
          type: string
      required:
      - otpType
      - phoneNumber
      type: object
    MFAConfigValidationEmail:
      description: A validation of the update of the OTP type "email" in the user's
        MFA configuration.
      properties:
        otpType:
          enum:
          - email
          type: string
        email:
          description: A valid email address.
          example: martin.dupont@kardinal.ai
          format: email
          type: string
        otp:
          description: A 6-digits OTP code.
          example: "403852"
          type: string
      required:
      - email
      - otp
      - otpType
      type: object
    MFAConfigValidationSMS:
      description: A validation of the update of the OTP type "sms" in the user's
        MFA configuration.
      properties:
        otpType:
          enum:
          - sms
          type: string
        phoneNumber:
          description: "Phone number in E.164 international format (e.g., +33612345678)."
          example: "+33612345678"
          pattern: "^\\+[1-9]\\d{1,14}$"
          type: string
        otp:
          description: A 6-digits OTP code.
          example: "403852"
          type: string
      required:
      - otp
      - otpType
      - phoneNumber
      type: object
    MFAConfigValidationTOTP:
      description: A validation of the update of the OTP type "totp" in the user's
        MFA configuration.
      properties:
        otpType:
          enum:
          - totp
          type: string
        otp:
          description: A 6-digits OTP code.
          example: "403852"
          type: string
      required:
      - otp
      - otpType
      type: object
    EnvelopedMFARequestOTPOutput:
      description: A JWT token with scope 'otp' valid for 10 minutes.
      example:
        item:
          otpToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
      properties:
        item:
          $ref: "#/components/schemas/EnvelopedMFARequestOTPOutput_item"
      type: object
    EnvelopedMFARequestTOTPOutput:
      description: "A JWT token with scope 'otp' valid for 10 minutes, together with\
        \ a TOTP config."
      properties:
        item:
          $ref: "#/components/schemas/EnvelopedMFARequestTOTPOutput_item"
      type: object
    LoginBackupCodeInput:
      description: Provides a backup code to fulfill the login.
      properties:
        backupCode:
          description: A unique 16-characters backup code.
          example: E0ZE97NY1Z6WAW1L
          maxLength: 16
          minLength: 16
          type: string
      required:
      - backupCode
      type: object
    LoginOTPInput:
      description: Provides the OTP code to fulfill the login.
      properties:
        otp:
          description: A 6-digits OTP code.
          example: "403852"
          type: string
      required:
      - otp
      type: object
    LoginOTPOutput:
      example:
        preferredType: sms
        phoneNumber: +336*******8
        otpToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
        availableTypes:
        - email
        - sms
        - totp
        email: em***********.com
      properties:
        otpToken:
          description: A JWT token with scope 'otp' valid for 10 minutes.
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
          type: string
        preferredType:
          $ref: "#/components/schemas/OTPType"
        availableTypes:
          description: The list of OTP types which have been configured by the actor
            in his MFA configuration
          example:
          - email
          - sms
          - totp
          items:
            $ref: "#/components/schemas/OTPType"
          readOnly: true
          type: array
        email:
          description: An obfuscated representation of the email used for MFA.
          example: em***********.com
          nullable: true
          type: string
        phoneNumber:
          description: An obfuscated representation of the phone number used for MFA
          example: +336*******8
          nullable: true
          type: string
      type: object
    EnvelopedLoginOTPOutput:
      example:
        item:
          preferredType: sms
          phoneNumber: +336*******8
          otpToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
          availableTypes:
          - email
          - sms
          - totp
          email: em***********.com
      properties:
        item:
          $ref: "#/components/schemas/LoginOTPOutput"
      type: object
    GlobalTravelTimeCoefficient:
      default: 1.0
      description: The value by which we multiply the global travel time.
      example: 1.5
      maximum: 5.0
      minimum: 0.2
      type: number
    EnvelopedGlobalTravelTimeCoefficient:
      example:
        item: 1.5
        agencyId: LND_Agency-42
      properties:
        item:
          default: 1.0
          description: The value by which we multiply the global travel time.
          example: 1.5
          maximum: 5.0
          minimum: 0.2
          type: number
        agencyId:
          $ref: "#/components/schemas/AgencyId"
      type: object
    UUID:
      description: Universally Unique Identifier.
      example: cd4ce4e3-0208-4b10-b346-25f235214e4f
      format: uuid
      pattern: "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
      readOnly: true
      type: string
    AgencyWebhook:
      example:
        headers:
          Authorization: Bearer your_token
          X-Custom-Header: custom_value
        createdAt: ""
        withPlan: true
        active: false
        agencyId: LND_Agency-42
        id: cd4ce4e3-0208-4b10-b346-25f235214e4f
        url: https://mydomain.com/webhooks
        expiresAt: ""
        updatedAt: ""
      properties:
        id:
          description: Universally Unique Identifier.
          example: cd4ce4e3-0208-4b10-b346-25f235214e4f
          format: uuid
          pattern: "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
          readOnly: true
          type: string
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        url:
          description: The secure webhook URL (must be https).
          example: https://mydomain.com/webhooks
          format: uri
          type: string
        headers:
          additionalProperties:
            type: string
          description: A map of header key-value pairs.
          example:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          type: object
        withPlan:
          default: false
          description: Specifies whether we should also provide the plan in the webhook's
            payload.
          example: true
          type: boolean
        active:
          default: true
          description: Specifies whether the webhook is active or not.
          example: false
          type: boolean
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The webhook's creation date.
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The webhook's last update date.
          readOnly: true
        expiresAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The webhook's expiration date.
          readOnly: true
      type: object
    PlanWebhook:
      allOf:
      - $ref: "#/components/schemas/AgencyWebhook"
      - properties:
          planId:
            $ref: "#/components/schemas/PlanId"
        type: object
      example:
        headers:
          Authorization: Bearer your_token
          X-Custom-Header: custom_value
        createdAt: ""
        withPlan: true
        active: false
        agencyId: LND_Agency-42
        planId: plan-AB
        id: cd4ce4e3-0208-4b10-b346-25f235214e4f
        url: https://mydomain.com/webhooks
        expiresAt: ""
        updatedAt: ""
    EnvelopedAgencyWebhook:
      example:
        item:
          headers:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          createdAt: ""
          withPlan: true
          active: false
          agencyId: LND_Agency-42
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          url: https://mydomain.com/webhooks
          expiresAt: ""
          updatedAt: ""
        agencyId: LND_Agency-42
      properties:
        item:
          $ref: "#/components/schemas/AgencyWebhook"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
      type: object
    EnvelopedAgencyWebhooks:
      example:
        agencyId: LND_Agency-42
        items:
        - headers:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          createdAt: ""
          withPlan: true
          active: false
          agencyId: LND_Agency-42
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          url: https://mydomain.com/webhooks
          expiresAt: ""
          updatedAt: ""
        - headers:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          createdAt: ""
          withPlan: true
          active: false
          agencyId: LND_Agency-42
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          url: https://mydomain.com/webhooks
          expiresAt: ""
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/AgencyWebhook"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
      type: object
    EnvelopedPlanWebhook:
      example:
        item:
          headers:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          createdAt: ""
          withPlan: true
          active: false
          agencyId: LND_Agency-42
          planId: plan-AB
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          url: https://mydomain.com/webhooks
          expiresAt: ""
          updatedAt: ""
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/PlanWebhook"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
      type: object
    EnvelopedPlanWebhooks:
      example:
        agencyId: LND_Agency-42
        planId: plan-AB
        items:
        - headers:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          createdAt: ""
          withPlan: true
          active: false
          agencyId: LND_Agency-42
          planId: plan-AB
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          url: https://mydomain.com/webhooks
          expiresAt: ""
          updatedAt: ""
        - headers:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          createdAt: ""
          withPlan: true
          active: false
          agencyId: LND_Agency-42
          planId: plan-AB
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          url: https://mydomain.com/webhooks
          expiresAt: ""
          updatedAt: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/PlanWebhook"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
      type: object
    WebhookCreate:
      example:
        headers:
          Authorization: Bearer your_token
          X-Custom-Header: custom_value
        withPlan: true
        ttl: PT1H
        url: https://mydomain.com/webhooks
      properties:
        url:
          description: The secure webhook URL (must be https).
          example: https://mydomain.com/webhooks
          format: uri
          type: string
        headers:
          additionalProperties:
            type: string
          description: A map of header key-value pairs.
          example:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          type: object
        withPlan:
          default: false
          description: Specifies whether we should also provide the plan in the webhook's
            payload.
          example: true
          type: boolean
        ttl:
          default: PT30M
          description: |
            Defines the webhook's time to live in iso 8601 duration format.
            The value should be at least 30 minutes and at most 14 days.
          example: PT1H
          pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
          type: string
      required:
      - url
      type: object
    WebhookUpdate:
      example:
        headers:
          Authorization: Bearer your_token
          X-Custom-Header: custom_value
        withPlan: true
        active: false
        url: https://mydomain.com/webhooks
      properties:
        url:
          description: The secure webhook URL (must be https).
          example: https://mydomain.com/webhooks
          format: uri
          type: string
        headers:
          additionalProperties:
            type: string
          description: A map of header key-value pairs.
          example:
            Authorization: Bearer your_token
            X-Custom-Header: custom_value
          type: object
        withPlan:
          default: false
          description: Specifies whether we should also provide the plan in the webhook's
            payload.
          example: true
          type: boolean
        active:
          default: true
          description: Specifies whether the webhook is active or not.
          example: false
          type: boolean
      required:
      - url
      type: object
    AgencyWebhookResult:
      example:
        outputSize: 0.5
        webhookId: cd4ce4e3-0208-4b10-b346-25f235214e4f
        inputSize: 2.3
        agencyId: LND_Agency-42
        tryNumber: 2
        statusCode: 200
        timestamp: 2019-11-15T12:34:56Z
      properties:
        webhookId:
          description: Universally Unique Identifier.
          example: cd4ce4e3-0208-4b10-b346-25f235214e4f
          format: uuid
          pattern: "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
          readOnly: true
          type: string
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        statusCode:
          description: The HTTP status code from the webhook's response.
          example: 200
          type: number
        timestamp:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
        inputSize:
          description: The webhook's input payload size in KB.
          example: 2.3
          type: number
        outputSize:
          description: The webhook's output payload size in KB.
          example: 0.5
          type: number
        tryNumber:
          description: |
            The try number of calling the webhook:
             - 1: This is the first time we are calling the webhook.
             - greater than 1: Calling the webhook failed at least once and we are re-trying.
          example: 2
          minimum: 1
          type: number
      type: object
    PlanWebhookResult:
      allOf:
      - $ref: "#/components/schemas/AgencyWebhookResult"
      - properties:
          planId:
            $ref: "#/components/schemas/PlanId"
          planVersion:
            $ref: "#/components/schemas/PlanVersion"
        type: object
      example:
        outputSize: 0.5
        webhookId: cd4ce4e3-0208-4b10-b346-25f235214e4f
        inputSize: 2.3
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
        tryNumber: 2
        statusCode: 200
        timestamp: 2019-11-15T12:34:56Z
    EnvelopedAgencyWebhookResults:
      example:
        agencyId: LND_Agency-42
        items:
        - outputSize: 0.5
          webhookId: cd4ce4e3-0208-4b10-b346-25f235214e4f
          inputSize: 2.3
          agencyId: LND_Agency-42
          tryNumber: 2
          statusCode: 200
          timestamp: 2019-11-15T12:34:56Z
        - outputSize: 0.5
          webhookId: cd4ce4e3-0208-4b10-b346-25f235214e4f
          inputSize: 2.3
          agencyId: LND_Agency-42
          tryNumber: 2
          statusCode: 200
          timestamp: 2019-11-15T12:34:56Z
      properties:
        items:
          items:
            $ref: "#/components/schemas/AgencyWebhookResult"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
      type: object
    EnvelopedPlanWebhookResults:
      example:
        agencyId: LND_Agency-42
        planId: plan-AB
        items:
        - outputSize: 0.5
          webhookId: cd4ce4e3-0208-4b10-b346-25f235214e4f
          inputSize: 2.3
          planVersion: 42
          agencyId: LND_Agency-42
          planId: plan-AB
          tryNumber: 2
          statusCode: 200
          timestamp: 2019-11-15T12:34:56Z
        - outputSize: 0.5
          webhookId: cd4ce4e3-0208-4b10-b346-25f235214e4f
          inputSize: 2.3
          planVersion: 42
          agencyId: LND_Agency-42
          planId: plan-AB
          tryNumber: 2
          statusCode: 200
          timestamp: 2019-11-15T12:34:56Z
      properties:
        items:
          items:
            $ref: "#/components/schemas/PlanWebhookResult"
          type: array
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
      type: object
    PointCoordinates:
      description: "GPS coordinates of a point, represented as an array containing\
        \ the longitude and the latitude (in that order)"
      example:
      - 3.45545
      - 47.46687
      items:
        type: number
      maxItems: 2
      minItems: 2
      type: array
    LinearRingCoordinates:
      description: |
        A linear ring is a closed line string with 4 or more positions:
        the first and last positions are equivalent, they represent equivalent points.
      example:
      - - 3.6161
        - 47.47681
      - - 3.45545
        - 47.46687
      - - 3.4948
        - 47.5256
      - - 3.6161
        - 47.47681
      items:
        $ref: "#/components/schemas/PointCoordinates"
      minItems: 4
      type: array
    PolygonCoordinates:
      description: |
        A polygon is an array of linear rings:
        the first linear ring defines the outer ring of the polygon, the subsequent linear rings define interior holes.
      example:
      - - - 3.28006
          - 47.62284
        - - 3.26699
          - 47.38364
        - - 3.48332
          - 47.16015
        - - 3.79628
          - 47.19804
        - - 3.90395
          - 47.30373
        - - 3.89146
          - 47.54433
        - - 3.58337
          - 47.72016
        - - 3.28006
          - 47.62284
      - - - 3.6161
          - 47.47681
        - - 3.45545
          - 47.46687
        - - 3.4948
          - 47.5256
        - - 3.6161
          - 47.47681
      items:
        $ref: "#/components/schemas/LinearRingCoordinates"
      minItems: 1
      type: array
    MultiPolygonCoordinates:
      description: A multi polygon is an array of polygons.
      items:
        $ref: "#/components/schemas/PolygonCoordinates"
      minItems: 1
      type: array
    FeatureType:
      enum:
      - Feature
      example: Feature
      type: string
    MultiPolygonType:
      enum:
      - MultiPolygon
      example: MultiPolygon
      type: string
    MultiPolygon:
      description: A GeoJSON MultiPolygon geometry
      example:
        coordinates:
        - - - - 3.28006
              - 47.62284
            - - 3.26699
              - 47.38364
            - - 3.48332
              - 47.16015
            - - 3.79628
              - 47.19804
            - - 3.90395
              - 47.30373
            - - 3.89146
              - 47.54433
            - - 3.58337
              - 47.72016
            - - 3.28006
              - 47.62284
          - - - 3.6161
              - 47.47681
            - - 3.45545
              - 47.46687
            - - 3.4948
              - 47.5256
            - - 3.6161
              - 47.47681
        - - - - 3.28006
              - 47.62284
            - - 3.26699
              - 47.38364
            - - 3.48332
              - 47.16015
            - - 3.79628
              - 47.19804
            - - 3.90395
              - 47.30373
            - - 3.89146
              - 47.54433
            - - 3.58337
              - 47.72016
            - - 3.28006
              - 47.62284
          - - - 3.6161
              - 47.47681
            - - 3.45545
              - 47.46687
            - - 3.4948
              - 47.5256
            - - 3.6161
              - 47.47681
        type: MultiPolygon
      externalDocs:
        url: https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.7
      properties:
        type:
          $ref: "#/components/schemas/MultiPolygonType"
        coordinates:
          description: A multi polygon is an array of polygons.
          items:
            $ref: "#/components/schemas/PolygonCoordinates"
          minItems: 1
          type: array
      required:
      - coordinates
      - type
      type: object
    MultiPolygonFeature:
      description: A GeoJSON Feature containing a MultiPolygon geometry
      example:
        geometry:
          coordinates:
          - - - - 3.28006
                - 47.62284
              - - 3.26699
                - 47.38364
              - - 3.48332
                - 47.16015
              - - 3.79628
                - 47.19804
              - - 3.90395
                - 47.30373
              - - 3.89146
                - 47.54433
              - - 3.58337
                - 47.72016
              - - 3.28006
                - 47.62284
            - - - 3.6161
                - 47.47681
              - - 3.45545
                - 47.46687
              - - 3.4948
                - 47.5256
              - - 3.6161
                - 47.47681
          - - - - 3.28006
                - 47.62284
              - - 3.26699
                - 47.38364
              - - 3.48332
                - 47.16015
              - - 3.79628
                - 47.19804
              - - 3.90395
                - 47.30373
              - - 3.89146
                - 47.54433
              - - 3.58337
                - 47.72016
              - - 3.28006
                - 47.62284
            - - - 3.6161
                - 47.47681
              - - 3.45545
                - 47.46687
              - - 3.4948
                - 47.5256
              - - 3.6161
                - 47.47681
          type: MultiPolygon
        type: Feature
        properties: "{}"
      externalDocs:
        url: https://datatracker.ietf.org/doc/html/rfc7946#section-3.2
      properties:
        type:
          $ref: "#/components/schemas/FeatureType"
        geometry:
          $ref: "#/components/schemas/MultiPolygon"
        properties:
          type: object
      required:
      - geometry
      - type
      type: object
    SectorMapping:
      additionalProperties:
        $ref: "#/components/schemas/MultiPolygonFeature"
      description: |
        A sector mapping consists in GeoJSON MultiPolygon features, mapped by sector names (one multipolygon per sector name):
        each multipolygon defines a geographical sector associated with a name.

        When a sector mapping exists in an agency, it is applied on every incoming ARO plan which fulfills the following condition:
        - Each plan order contains one and only one stop.

        If the condition is fulfilled, the sector mapping is applied as follows:
        - For each stop in the plan, we check whether the stop position is contained inside a sector (a multipolygon) of the sector mapping,
        - If so, we check whether the sector name is a prefix for a resource id of the plan,
        - If so, we set the resource mode to "fixed", and we push the stop inside the resource assignments, with the status "assigned".

        Once done, the plan follows the rest of the usual ARO process.

        Note: if an error occurs during this process, we abort the application of the sector mapping,
        and the plan simply goes on with the usual ARO process.
      example:
        resource-42:
          type: Feature
          geometry:
            type: MultiPolygon
            coordinates:
            - - - - 3.28006
                  - 47.62284
                - - 3.26699
                  - 47.38364
                - - 3.48332
                  - 47.16015
                - - 3.79628
                  - 47.19804
                - - 3.90395
                  - 47.30373
                - - 3.89146
                  - 47.54433
                - - 3.58337
                  - 47.72016
                - - 3.28006
                  - 47.62284
              - - - 3.6161
                  - 47.47681
                - - 3.45545
                  - 47.46687
                - - 3.4948
                  - 47.5256
                - - 3.6161
                  - 47.47681
            - - - - 4.12625
                  - 47.58621
                - - 3.89271
                  - 47.54398
                - - 3.90217
                  - 47.37509
                - - 4.16784
                  - 47.34288
                - - 4.26204
                  - 47.45491
                - - 4.12625
                  - 47.58621
        resource-84:
          type: Feature
          geometry:
            type: MultiPolygon
            coordinates:
            - - - - 3.90281
                  - 47.37286
                - - 3.90794
                  - 47.30384
                - - 3.76132
                  - 47.16138
                - - 4.05518
                  - 47.18665
                - - 4.2426
                  - 47.33193
                - - 3.90281
                  - 47.37286
            - - - - 4.24152
                  - 47.33049
                - - 4.05729
                  - 47.18739
                - - 4.34904
                  - 47.17607
                - - 4.36825
                  - 47.2706
                - - 4.24152
                  - 47.33049
      type: object
    EnvelopedSectorMapping:
      example:
        item:
          resource-42:
            type: Feature
            geometry:
              type: MultiPolygon
              coordinates:
              - - - - 3.28006
                    - 47.62284
                  - - 3.26699
                    - 47.38364
                  - - 3.48332
                    - 47.16015
                  - - 3.79628
                    - 47.19804
                  - - 3.90395
                    - 47.30373
                  - - 3.89146
                    - 47.54433
                  - - 3.58337
                    - 47.72016
                  - - 3.28006
                    - 47.62284
                - - - 3.6161
                    - 47.47681
                  - - 3.45545
                    - 47.46687
                  - - 3.4948
                    - 47.5256
                  - - 3.6161
                    - 47.47681
              - - - - 4.12625
                    - 47.58621
                  - - 3.89271
                    - 47.54398
                  - - 3.90217
                    - 47.37509
                  - - 4.16784
                    - 47.34288
                  - - 4.26204
                    - 47.45491
                  - - 4.12625
                    - 47.58621
          resource-84:
            type: Feature
            geometry:
              type: MultiPolygon
              coordinates:
              - - - - 3.90281
                    - 47.37286
                  - - 3.90794
                    - 47.30384
                  - - 3.76132
                    - 47.16138
                  - - 4.05518
                    - 47.18665
                  - - 4.2426
                    - 47.33193
                  - - 3.90281
                    - 47.37286
              - - - - 4.24152
                    - 47.33049
                  - - 4.05729
                    - 47.18739
                  - - 4.34904
                    - 47.17607
                  - - 4.36825
                    - 47.2706
                  - - 4.24152
                    - 47.33049
        agencyId: LND_Agency-42
      properties:
        item:
          additionalProperties:
            $ref: "#/components/schemas/MultiPolygonFeature"
          description: |
            A sector mapping consists in GeoJSON MultiPolygon features, mapped by sector names (one multipolygon per sector name):
            each multipolygon defines a geographical sector associated with a name.

            When a sector mapping exists in an agency, it is applied on every incoming ARO plan which fulfills the following condition:
            - Each plan order contains one and only one stop.

            If the condition is fulfilled, the sector mapping is applied as follows:
            - For each stop in the plan, we check whether the stop position is contained inside a sector (a multipolygon) of the sector mapping,
            - If so, we check whether the sector name is a prefix for a resource id of the plan,
            - If so, we set the resource mode to "fixed", and we push the stop inside the resource assignments, with the status "assigned".

            Once done, the plan follows the rest of the usual ARO process.

            Note: if an error occurs during this process, we abort the application of the sector mapping,
            and the plan simply goes on with the usual ARO process.
          example:
            resource-42:
              type: Feature
              geometry:
                type: MultiPolygon
                coordinates:
                - - - - 3.28006
                      - 47.62284
                    - - 3.26699
                      - 47.38364
                    - - 3.48332
                      - 47.16015
                    - - 3.79628
                      - 47.19804
                    - - 3.90395
                      - 47.30373
                    - - 3.89146
                      - 47.54433
                    - - 3.58337
                      - 47.72016
                    - - 3.28006
                      - 47.62284
                  - - - 3.6161
                      - 47.47681
                    - - 3.45545
                      - 47.46687
                    - - 3.4948
                      - 47.5256
                    - - 3.6161
                      - 47.47681
                - - - - 4.12625
                      - 47.58621
                    - - 3.89271
                      - 47.54398
                    - - 3.90217
                      - 47.37509
                    - - 4.16784
                      - 47.34288
                    - - 4.26204
                      - 47.45491
                    - - 4.12625
                      - 47.58621
            resource-84:
              type: Feature
              geometry:
                type: MultiPolygon
                coordinates:
                - - - - 3.90281
                      - 47.37286
                    - - 3.90794
                      - 47.30384
                    - - 3.76132
                      - 47.16138
                    - - 4.05518
                      - 47.18665
                    - - 4.2426
                      - 47.33193
                    - - 3.90281
                      - 47.37286
                - - - - 4.24152
                      - 47.33049
                    - - 4.05729
                      - 47.18739
                    - - 4.34904
                      - 47.17607
                    - - 4.36825
                      - 47.2706
                    - - 4.24152
                      - 47.33049
          type: object
        agencyId:
          $ref: "#/components/schemas/AgencyId"
      type: object
    SimpleResource:
      example:
        maxWorkingDuration: PT4M
        breaks:
        - duration: ""
          timeWindow: ""
          type: timeWindowBreak
        - duration: ""
          timeWindow: ""
          type: timeWindowBreak
        arrival:
          lon: 2.3269331
          lat: 48.8812658
        capacities:
          volume: 9.5
          weight: 2200
          nbPackages: 23
        id: ""
        departure:
          lon: 2.3269331
          lat: 48.8812658
        workingTimeWindow:
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        maxDistanceInKm: 0.8008281904610115
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Resource ids must be unique within a plan.
        capacities:
          additionalProperties:
            type: number
          example:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          type: object
        departure:
          $ref: "#/components/schemas/Position"
        arrival:
          $ref: "#/components/schemas/Resource_arrival"
        workingTimeWindow:
          $ref: "#/components/schemas/TimeWindow"
        maxWorkingDuration:
          description: "A period of time, expressed in the ISO8601 **duration** format."
          example: PT4M
          pattern: ^P(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$
          type: string
        maxDistanceInKm:
          type: number
        breaks:
          items:
            $ref: "#/components/schemas/Break"
          type: array
      required:
      - id
      - workingTimeWindow
      type: object
    SimpleStop:
      example:
        timeWindow:
          end: 2019-11-15T12:34:56Z
          begin: 2019-11-15T12:34:56Z
        kind: delivery
        operationDuration: ""
        capacities: ""
        id: ""
        position:
          lon: 2.3269331
          lat: 48.8812658
      properties:
        id:
          allOf:
          - $ref: "#/components/schemas/RegexIdValidation"
          description: Single stop ids must be unique within a plan.
        position:
          $ref: "#/components/schemas/Position"
        kind:
          $ref: "#/components/schemas/StopKind"
        operationDuration:
          allOf:
          - $ref: "#/components/schemas/Duration"
        capacities:
          allOf:
          - $ref: "#/components/schemas/Capacities"
        timeWindow:
          $ref: "#/components/schemas/TimeWindow"
      required:
      - id
      - position
      type: object
    SimpleObjective:
      default: minimizeResources
      enum:
      - minimizeResources
      - minimizeWorkingDuration
      - minimizeDistance
      type: string
    SimplePlan:
      description: "A simple plan is a simplified representation of a plan, with simplified\
        \ resources, simplified stops, and a simplified objective."
      example:
        createdAt: ""
        archivedAt: ""
        tz: Europe/Paris
        resources:
        - maxWorkingDuration: PT4M
          breaks:
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          arrival:
            lon: 2.3269331
            lat: 48.8812658
          capacities:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          id: ""
          departure:
            lon: 2.3269331
            lat: 48.8812658
          workingTimeWindow:
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          maxDistanceInKm: 0.8008281904610115
        - maxWorkingDuration: PT4M
          breaks:
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          - duration: ""
            timeWindow: ""
            type: timeWindowBreak
          arrival:
            lon: 2.3269331
            lat: 48.8812658
          capacities:
            volume: 9.5
            weight: 2200
            nbPackages: 23
          id: ""
          departure:
            lon: 2.3269331
            lat: 48.8812658
          workingTimeWindow:
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          maxDistanceInKm: 0.8008281904610115
        agencyId: LND_Agency-42
        id: cd4ce4e3-0208-4b10-b346-25f235214e4f
        state: waiting
        stops:
        - timeWindow:
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          kind: delivery
          operationDuration: ""
          capacities: ""
          id: ""
          position:
            lon: 2.3269331
            lat: 48.8812658
        - timeWindow:
            end: 2019-11-15T12:34:56Z
            begin: 2019-11-15T12:34:56Z
          kind: delivery
          operationDuration: ""
          capacities: ""
          id: ""
          position:
            lon: 2.3269331
            lat: 48.8812658
        lateDeparture: false
        version: 42
        objective: minimizeResources
        updatedAt: ""
      properties:
        id:
          description: Universally Unique Identifier.
          example: cd4ce4e3-0208-4b10-b346-25f235214e4f
          format: uuid
          pattern: "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
          readOnly: true
          type: string
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        version:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
        state:
          $ref: "#/components/schemas/PlanState"
        resources:
          items:
            $ref: "#/components/schemas/SimpleResource"
          type: array
        stops:
          items:
            $ref: "#/components/schemas/SimpleStop"
          type: array
        objective:
          $ref: "#/components/schemas/SimpleObjective"
        tz:
          description: |
            The time zone is a string code which identifies a region of the world in the "time zone database", also called "tz database".
            The tz database is a partition of the world into regions where local clocks all show the same time.
            This database gives the rules for time offset and daylight saving time in each region.

            How do we use it?

            In order to work with time events accurately, we usually use datetimes in the iso-8601 format, without explicit time zone.
            This format is quite well suported by many programming languages, and it is well suited for technical data exchange.
            But it is not easy to use for humans.

            For instance, here are three datetimes in iso-8601 format, which give the same exact moment in time:
            - "2025-05-22T05:43:00Z"
            - "2025-05-22T06:43:00+01:00"
            - "2025-05-22T07:43:00+02:00"

            For a non-technical user, it is difficult to know how to relate this to the time displayed on a watch or a clock.

            We improve the user experience by adding the support of local datetimes, thanks to the use of the time zone,
            which allows to transform a local datetime into an iso-8601 datetime:
            - local datetime + timezone (tz) = iso-8601 datetime

            For instance, here are five datetimes which all give the same exact moment in time:
            - "2025-05-22T05:43:00Z"
            - "2025-05-22T06:43:00+01:00"
            - "2025-05-22T07:43:00+02:00"
            - "2025-05-22 07:43:00"       + timezone "tz": "Europe/Paris"
            - "2025-05-22 07:43"          + timezone "tz": "Europe/Paris"

            Note: the last example ("2025-05-22 07:43") illustrates the support of local datetimes without seconds,
            which can be very practical for users.

            In order for local datetimes to be supported, some JSON input objects contain a "tz" time zone property.
            This "tz" property is used to pre-process the JSON input payload, like this:
            - We check if a valid timezone can be extracted from the "tz" property,
            - If so, we perform the following actions:
              - Walk through the whole JSON content to look for local datetimes,
              - Use the timezone to transform each local datetime into an iso-8601 datetime.

            Important: some objects contain a "properties" sub-object, which is a map of custom client data;
            the content of the "properties" sub-objects is always excluded from the time zone pre-processing.
          example: Europe/Paris
          externalDocs:
            url: https://www.iana.org/time-zones
          type: string
        lateDeparture:
          default: false
          description: "True if lateDeparture is requested for Resources, false otherwise."
          type: boolean
        createdAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The plan's creation datetime.
          nullable: false
          readOnly: true
        updatedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: The plan's last update datetime.
          nullable: true
          readOnly: true
        archivedAt:
          allOf:
          - $ref: "#/components/schemas/DateTime"
          description: "The plan's archiving datetime: if not null, the plan is archived."
          nullable: true
          readOnly: true
          example: null
      required:
      - agencyId
      - id
      - resources
      type: object
    EnvelopedSimplePlan:
      example:
        item:
          createdAt: ""
          archivedAt: ""
          tz: Europe/Paris
          resources:
          - maxWorkingDuration: PT4M
            breaks:
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            arrival:
              lon: 2.3269331
              lat: 48.8812658
            capacities:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            id: ""
            departure:
              lon: 2.3269331
              lat: 48.8812658
            workingTimeWindow:
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            maxDistanceInKm: 0.8008281904610115
          - maxWorkingDuration: PT4M
            breaks:
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            - duration: ""
              timeWindow: ""
              type: timeWindowBreak
            arrival:
              lon: 2.3269331
              lat: 48.8812658
            capacities:
              volume: 9.5
              weight: 2200
              nbPackages: 23
            id: ""
            departure:
              lon: 2.3269331
              lat: 48.8812658
            workingTimeWindow:
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            maxDistanceInKm: 0.8008281904610115
          agencyId: LND_Agency-42
          id: cd4ce4e3-0208-4b10-b346-25f235214e4f
          state: waiting
          stops:
          - timeWindow:
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            kind: delivery
            operationDuration: ""
            capacities: ""
            id: ""
            position:
              lon: 2.3269331
              lat: 48.8812658
          - timeWindow:
              end: 2019-11-15T12:34:56Z
              begin: 2019-11-15T12:34:56Z
            kind: delivery
            operationDuration: ""
            capacities: ""
            id: ""
            position:
              lon: 2.3269331
              lat: 48.8812658
          lateDeparture: false
          version: 42
          objective: minimizeResources
          updatedAt: ""
        planVersion: 42
        agencyId: LND_Agency-42
        planId: plan-AB
      properties:
        item:
          $ref: "#/components/schemas/SimplePlan"
        agencyId:
          $ref: "#/components/schemas/AgencyId"
        planId:
          $ref: "#/components/schemas/PlanId"
        planVersion:
          description: The plan version.
          example: 42
          minimum: 1
          readOnly: true
          type: integer
      type: object
    disableMFAConfig_request:
      oneOf:
      - $ref: "#/components/schemas/MFAConfigRequestEmail"
      - $ref: "#/components/schemas/MFAConfigRequestSMS"
      - $ref: "#/components/schemas/MFAConfigRequestTOTP"
    requestMFAConfigUpdate_200_response:
      oneOf:
      - $ref: "#/components/schemas/EnvelopedMFARequestOTPOutput"
      - $ref: "#/components/schemas/EnvelopedMFARequestTOTPOutput"
    requestNewMFAOTPCode_request:
      oneOf:
      - $ref: "#/components/schemas/MFAConfigResendEmail"
      - $ref: "#/components/schemas/MFAConfigResendSMS"
    validateMFAConfigUpdate_request:
      oneOf:
      - $ref: "#/components/schemas/MFAConfigValidationEmail"
      - $ref: "#/components/schemas/MFAConfigValidationSMS"
      - $ref: "#/components/schemas/MFAConfigValidationTOTP"
    postLogin_200_response:
      oneOf:
      - $ref: "#/components/schemas/EnvelopedLoginOTPOutput"
      - $ref: "#/components/schemas/EnvelopedLoginGDPROutput"
      - $ref: "#/components/schemas/EnvelopedLoginMFAOutput"
      - $ref: "#/components/schemas/EnvelopedLoginAccessOutput"
    postLoginOTP_request:
      oneOf:
      - $ref: "#/components/schemas/LoginOTPInput"
      - $ref: "#/components/schemas/LoginBackupCodeInput"
    postLoginOTP_200_response:
      oneOf:
      - $ref: "#/components/schemas/EnvelopedLoginGDPROutput"
      - $ref: "#/components/schemas/EnvelopedLoginAccessOutput"
    postLoginRefresh_request:
      description: The old access token.
      properties:
        access_token:
          description: "A JSON Web Token with scope 'access', to be used to access\
            \ protected data, valid for 1 hour."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
          type: string
      type: object
    postLoginRefresh_200_response:
      oneOf:
      - $ref: "#/components/schemas/EnvelopedLoginGDPROutput"
      - $ref: "#/components/schemas/EnvelopedLoginRefreshOutput"
    putClient_request:
      oneOf:
      - $ref: "#/components/schemas/ClientForUpdate"
      - $ref: "#/components/schemas/ClientForCreation"
    putClientCountry_request:
      oneOf:
      - $ref: "#/components/schemas/CountryForUpdate"
      - $ref: "#/components/schemas/CountryForCreation"
    putClientRegion_request:
      oneOf:
      - $ref: "#/components/schemas/RegionForUpdate"
      - $ref: "#/components/schemas/RegionForCreation"
    putClientAgency_request:
      oneOf:
      - $ref: "#/components/schemas/AgencyForUpdate"
      - $ref: "#/components/schemas/AgencyForCreation"
    EnvelopedLoginGDPROutput_item:
      example:
        gdprToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI4OTgzMDUwLCJpYXQiOjE3Mjg5Nzk0NTAsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyODk3OTQ0OSwic2NvcGUiOiJnZHByIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.0Bfl_ckUrPGmocrXWoMDbUN4Xl0ZnHrEJV9JKzG1d8_Aw69EXZZie-qI4yFiQR1tnVp56RUz6UIAMIvrcMp9DA
      properties:
        gdprToken:
          description: "A JSON Web Token with scope 'gdpr', to be used to approve\
            \ a GDPR policy, valid for 1 hour."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI4OTgzMDUwLCJpYXQiOjE3Mjg5Nzk0NTAsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyODk3OTQ0OSwic2NvcGUiOiJnZHByIiwic3ViIjoibWFydGluLmR1cG9udEBrYXJkaW5hbC5haSJ9.0Bfl_ckUrPGmocrXWoMDbUN4Xl0ZnHrEJV9JKzG1d8_Aw69EXZZie-qI4yFiQR1tnVp56RUz6UIAMIvrcMp9DA
          type: string
      type: object
    EnvelopedLoginMFAOutput_item:
      properties:
        mfaToken:
          description: "A JSON Web Token with scope 'mfa', to be used to setup MFA\
            \ authentication, valid for 1 hour."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzMyNjQ0MzY0LCJpYXQiOjE3MzI2NDA3NjQsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTczMjY0MDc2Mywic2NvcGUiOiJtZmEiLCJzdWIiOiJtYXJ0aW4uZHVwb250QGthcmRpbmFsLmFpIn0.XdFyT6ov-Y3GNIgudfm68hIAfIoj4SyKLule3HAnfceDXChEfHllninFiPAEwEzLCRDWOscTTu3J2Vkb3VysDg
          type: string
      type: object
    EnvelopedLoginAccessOutput_item:
      example:
        accessToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
        user:
          firstname: Martin
          role: expert
          regions: ""
          clientId: ""
          level: country
          active: true
          agencies: ""
          countries: ""
          type: standard
          managedClientsIds:
          - LND_FR
          - LND_FR
          lastname: DUPONT
          createdAt: ""
          password: ""
          lastLoginAt: ""
          id: 483fad31-415d-4d9e-8edd-c8f936e71520
          gdprInfo:
            approvedAt: 2019-11-15T12:34:56Z
            version: version
          username: martin.dupont@kardinal.ai
          status: pending
          updatedAt: ""
        refreshToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6InJlZnJlc2giLCJzdWIiOiJ0b3RvIn0.6QkM9IV3mHPG2jAqfCj5jm44ha-cPA85JEkDQR46kZ9Y8cuzN8nqCxhN67j2MYFJYSEEIYnwYimR3fZUIr-9Bg
      properties:
        accessToken:
          description: "A JSON Web Token with scope 'access', to be used to access\
            \ protected data, valid for 1 hour."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
          type: string
        refreshToken:
          description: "A JSON Web Token with scope 'refresh', to be used to refresh\
            \ the access token, valid for 30 days."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6InJlZnJlc2giLCJzdWIiOiJ0b3RvIn0.6QkM9IV3mHPG2jAqfCj5jm44ha-cPA85JEkDQR46kZ9Y8cuzN8nqCxhN67j2MYFJYSEEIYnwYimR3fZUIr-9Bg
          type: string
        user:
          $ref: "#/components/schemas/User"
      type: object
    EnvelopedLoginRefreshOutput_item:
      properties:
        accessToken:
          description: "A JSON Web Token with scope 'access', to be used to access\
            \ protected data, valid for 1 hour."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
          type: string
      type: object
    User_gdprInfo:
      example:
        approvedAt: 2019-11-15T12:34:56Z
        version: version
      properties:
        version:
          type: string
        approvedAt:
          description: "A full calendar date time, expressed in the ISO8601 **date**\
            \ format: YYYY-MM-DDThh:mm:ssZ."
          example: 2019-11-15T12:34:56Z
          type: string
      type: object
    UserAPIOutput_accessTokens:
      example:
        test: eyJhbGciOiJFZERTQSJ9.eyJhZ2...7EmUDA
        prod: eyJhbGciOiJFZERTQSJ9.eyJhZ2...4vEdCw
      properties:
        additionalProperties:
          description: "A JSON Web Token with scope 'access', to be used to access\
            \ protected data, valid for 1 hour."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsia2FyZGluYWwubWljcm9fc2VydmljZSJdLCJleHAiOjE2MTA3MzI1NzMsImlhdCI6MTYxMDczMjU3MiwiaXNzIjoia2FyZGluYWwuand0IiwibmJmIjoxNjEwNzMyNTcxLCJzY29wZSI6ImFjY2VzcyIsInN1YiI6InRvdG8iLCJ0cnVjIjoiYWJjZDQyIn0.8M-6hV6zJf-OJBs_biiRa2Kn-JIAvgCUdc3b4Pcf3mVLlGHSSmAyD1YTy3kBmHxzoWjI8ra3laDUlnd2oLXvDw
          type: string
      type: object
    ClientConf_api:
      allOf:
      - $ref: "#/components/schemas/ProductConf"
      - $ref: "#/components/schemas/APIConfSpecific"
      example:
        customProperties:
          foo: 42
          bar: alpha
          toto:
          - 2
          - 4
          - 6
          - 8
          titi:
            one: 1
            two: PT33M32S
            three: false
            four:
            - bla
            five:
              cat: 4
        allowed: true
        archiving:
          key: PT4M
        retention:
          key: PT4M
    ClientConf_aro:
      allOf:
      - $ref: "#/components/schemas/ProductConf"
      - $ref: "#/components/schemas/AROConfSpecific"
      example:
        customProperties:
          foo: 42
          bar: alpha
          toto:
          - 2
          - 4
          - 6
          - 8
          titi:
            one: 1
            two: PT33M32S
            three: false
            four:
            - bla
            five:
              cat: 4
        allowed: true
        archiving:
          key: PT4M
        retention:
          key: PT4M
    ClientConf_tao:
      allOf:
      - $ref: "#/components/schemas/ProductConf"
      - $ref: "#/components/schemas/TAOConfSpecific"
      example:
        customProperties:
          foo: 42
          bar: alpha
          toto:
          - 2
          - 4
          - 6
          - 8
          titi:
            one: 1
            two: PT33M32S
            three: false
            four:
            - bla
            five:
              cat: 4
        requiredProperties:
          cells:
          - postalCode
          stops:
          - address
          samples:
          - date
          - dow
          - activityLevel
        allowed: true
        maxSectorizationsInParallel: 0.08008281904610115
        archiving:
          key: PT4M
        retention:
          key: PT4M
    ClientConf_pudo:
      allOf:
      - $ref: "#/components/schemas/ProductConf"
      - $ref: "#/components/schemas/PUDOConfSpecific"
      example:
        customProperties:
          foo: 42
          bar: alpha
          toto:
          - 2
          - 4
          - 6
          - 8
          titi:
            one: 1
            two: PT33M32S
            three: false
            four:
            - bla
            five:
              cat: 4
        allowed: true
        archiving:
          key: PT4M
        retention:
          key: PT4M
    Plan_additionalConstraints_inner:
      oneOf:
      - $ref: "#/components/schemas/AdditionalConstraintAtLeastOneValidCapacity"
      - $ref: "#/components/schemas/AdditionalConstraintForbiddenAssignment"
      - $ref: "#/components/schemas/AdditionalConstraintIncompatibleStopTags"
      - $ref: "#/components/schemas/AdditionalConstraintAtLeastOneConstraint"
      - $ref: "#/components/schemas/AdditionalConstraintCapacities"
      - $ref: "#/components/schemas/AdditionalConstraintMaxStopTagGroups"
      - $ref: "#/components/schemas/AdditionalConstraintRemovalStrategy"
    Plan_globalConstraints_inner:
      oneOf:
      - $ref: "#/components/schemas/GlobalConstraintMaxCumulatedCost"
    Resource_vehicleProfile:
      oneOf:
      - $ref: "#/components/schemas/VehicleProfileFly"
      - $ref: "#/components/schemas/VehicleProfilePedestrian"
      - $ref: "#/components/schemas/VehicleProfileBicycle"
      - $ref: "#/components/schemas/VehicleProfileScooter"
      - $ref: "#/components/schemas/VehicleProfileMotorbike"
      - $ref: "#/components/schemas/VehicleProfileCar"
      - $ref: "#/components/schemas/VehicleProfileTruck"
    Resource_arrival:
      oneOf:
      - $ref: "#/components/schemas/Position"
      - $ref: "#/components/schemas/AtFirstPositionArrival"
    PlanObjectives_inner:
      oneOf:
      - $ref: "#/components/schemas/ObjectivesEnum"
      - $ref: "#/components/schemas/CustomObjective"
    State_assignments_inner:
      oneOf:
      - $ref: "#/components/schemas/AssignmentStop"
      - $ref: "#/components/schemas/AssignmentBegin"
      - $ref: "#/components/schemas/AssignmentBreak"
      - $ref: "#/components/schemas/AssignmentEnd"
    Solution_globalViolations_inner:
      oneOf:
      - $ref: "#/components/schemas/GlobalViolationMaxCumulatedCost"
    Tour_wayPoints_inner:
      oneOf:
      - $ref: "#/components/schemas/WayPointBegin"
      - $ref: "#/components/schemas/WayPointStop"
      - $ref: "#/components/schemas/WayPointBreak"
      - $ref: "#/components/schemas/WayPointEnd"
    EnvelopedMFARequestOTPOutput_item:
      example:
        otpToken: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
      properties:
        otpToken:
          description: "A JSON Web Token with scope 'otp', to be used with an OTP\
            \ (One-Time Password) value, valid for 10 minutes."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
          type: string
      type: object
    EnvelopedMFARequestTOTPOutput_item:
      properties:
        otpToken:
          description: "A JSON Web Token with scope 'otp', to be used with an OTP\
            \ (One-Time Password) value, valid for 10 minutes."
          example: eyJhbGciOiJFZERTQSJ9.eyJhdWQiOlsiYXBpIiwiZnJvbnQiXSwiZXhwIjoxNzI3OTU3NjM2LCJpYXQiOjE3Mjc5NTcwMzYsImlzcyI6ImthcmRpbmFsLmp3dCIsIm5iZiI6MTcyNzk1NzAzNSwib3RwVHlwZSI6ImVtYWlsIiwic2NvcGUiOiJvdHAiLCJzdWIiOiJzb21lQG9uZS5jb20ifQ.Urhz2i-b_j5kb-Sa_GwyYrZusDtPpCmzUxLqo3EHi_bK0Gpx3cfov4rouE9XCH-HcaT4l16hot2Nkt31QwOJAQ
          type: string
        totpConfig:
          $ref: "#/components/schemas/TOTPConfig"
      type: object
  securitySchemes:
    otp_token:
      bearerFormat: JWT
      scheme: bearer
      type: http
    gdpr_token:
      bearerFormat: JWT
      scheme: bearer
      type: http
    access_token:
      bearerFormat: JWT
      scheme: bearer
      type: http
    refresh_token:
      bearerFormat: JWT
      scheme: bearer
      type: http
    password_token:
      bearerFormat: JWT
      scheme: bearer
      type: http
